(self["webpackChunkbaby_log"]=self["webpackChunkbaby_log"]||[]).push([[484],{116:function(e,t,n){"use strict";var r=n(6518),a=n(9565),o=n(2652),i=n(9306),s=n(8551),l=n(1767),c=n(9539),u=n(4549),d=u("find",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:d},{find:function(e){s(this);try{i(e)}catch(r){c(this,"throw",r)}if(d)return a(d,this,e);var t=l(this),n=0;return o(t,function(t,r){if(e(t,n++))return r(t)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},456:function(e,t,n){"use strict";var r=n(6518),a=n(4576),o=n(9504),i=n(4154),s=n(5169),l=o(1.1.toString),c=a.Uint8Array,u=!c||!c.prototype.toHex||!function(){try{var e=new c([255,255,255,255,255,255,255,255]);return"ffffffffffffffff"===e.toHex()}catch(t){return!1}}();c&&r({target:"Uint8Array",proto:!0,forced:u},{toHex:function(){i(this),s(this.buffer);for(var e="",t=0,n=this.length;t<n;t++){var r=l(this[t],16);e+=1===r.length?"0"+r:r}return e}})},531:function(e,t,n){"use strict";var r=n(6518),a=n(9565),o=n(9306),i=n(8551),s=n(1767),l=n(8646),c=n(9462),u=n(9539),d=n(6395),h=n(684),f=n(4549),p=!d&&!h("flatMap",function(){}),m=!d&&!p&&f("flatMap",TypeError),g=d||p||m,v=c(function(){var e,t,n=this.iterator,r=this.mapper;while(1){if(t=this.inner)try{if(e=i(a(t.next,t.iterator)),!e.done)return e.value;this.inner=null}catch(o){u(n,"throw",o)}if(e=i(a(this.next,n)),this.done=!!e.done)return;try{this.inner=l(r(e.value,this.counter++),!1)}catch(o){u(n,"throw",o)}}});r({target:"Iterator",proto:!0,real:!0,forced:g},{flatMap:function(e){i(this);try{o(e)}catch(t){u(this,"throw",t)}return m?a(m,this,e):new v(s(this),{mapper:e,inner:null})}})},655:function(e,t,n){"use strict";var r=n(6955),a=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return a(e)}},944:function(e){"use strict";var t=TypeError;e.exports=function(e){var n=e&&e.alphabet;if(void 0===n||"base64"===n||"base64url"===n)return n||"base64";throw new t("Incorrect `alphabet` option")}},1108:function(e,t,n){"use strict";var r=n(6955);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},1548:function(e,t,n){"use strict";var r=n(4576),a=n(9039),o=n(9519),i=n(4215),s=r.structuredClone;e.exports=!!s&&!a(function(){if("DENO"===i&&o>92||"NODE"===i&&o>94||"BROWSER"===i&&o>97)return!1;var e=new ArrayBuffer(8),t=s(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength})},1549:function(e,t,n){"use strict";n(6632)},1576:function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",o="minute",i="hour",s="day",l="week",c="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,c),o=n-a<0,i=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-a)/(o?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:h,h:i,m:o,s:a,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=g;var E=function(e){return e instanceof R},A=function e(t,n,r){var a;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();w[o]&&(a=o),n&&(w[o]=n,a=o);var i=t.split("-");if(!a&&i.length>1)return e(i[0])}else{var s=t.name;w[s]=t,a=s}return!r&&a&&(b=a),a||!r&&b},k=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new R(n)},S=y;S.l=A,S.i=E,S.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var R=function(){function g(e){this.$L=A(e.locale,null,!0),this.parse(e)}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var a=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return!(this.$d.toString()===f)},v.isSame=function(e,t){var n=k(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return k(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<k(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!S.u(t)||t,u=S.p(e),f=function(e,t){var a=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(s)},p=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?f(1,0):f(31,11);case c:return r?f(1,g):f(0,g+1);case l:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return f(r?v-w:v+(6-w),g);case s:case h:return p(y+"Hours",0);case i:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case a:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=S.p(e),u="set"+(this.$u?"UTC":""),f=(n={},n[s]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[i]=u+"Hours",n[o]=u+"Minutes",n[a]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(r,u){var h,f=this;r=Number(r);var p=S.p(u),m=function(e){var t=k(f);return S.w(t.date(t.date()+Math.round(e*r)),f)};if(p===c)return this.set(c,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===s)return m(1);if(p===l)return m(7);var g=(h={},h[o]=t,h[i]=n,h[a]=e,h)[p]||1,v=this.$d.getTime()+r*g;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=S.z(this),o=this.$H,i=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=function(e,n,a,o){return e&&(e[n]||e(t,r))||a[n].substr(0,o)},d=function(e){return S.s(o%12||12,e,"0")},h=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:S.s(s+1,2,"0"),MMM:u(n.monthsShort,s,c,3),MMMM:u(c,s),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(o),HH:S.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,i,!0),A:h(o,i,!1),m:String(i),mm:S.s(i,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:a};return r.replace(m,function(e,t){return t||p[e]||a.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,f){var p,m=S.p(h),g=k(r),v=(g.utcOffset()-this.utcOffset())*t,y=this-g,b=S.m(this,g);return b=(p={},p[d]=b/12,p[c]=b,p[u]=b/3,p[l]=(y-v)/6048e5,p[s]=(y-v)/864e5,p[i]=y/n,p[o]=y/t,p[a]=y/e,p)[m]||y,f?b:S.a(b)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return w[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=A(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),T=R.prototype;return k.prototype=T,[["$ms",r],["$s",a],["$m",o],["$H",i],["$W",s],["$M",c],["$y",d],["$D",h]].forEach(function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),k.extend=function(e,t){return e.$i||(e(t,R,k),e.$i=!0),k},k.locale=A,k.isDayjs=E,k.unix=function(e){return k(1e3*e)},k.en=w[b],k.Ls=w,k.p={},k})},1806:function(e,t,n){"use strict";var r=n(6518),a=n(8551),o=n(2652),i=n(1767),s=[].push;r({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return o(i(a(this)),s,{that:e,IS_RECORD:!0}),e}})},2303:function(e,t,n){"use strict";var r=n(4576),a=n(9504),o=r.Uint8Array,i=r.SyntaxError,s=r.parseInt,l=Math.min,c=/[^\da-f]/i,u=a(c.exec),d=a("".slice);e.exports=function(e,t){var n=e.length;if(n%2!==0)throw new i("String should be an even number of characters");var r=t?l(t.length,n/2):n/2,a=t||new o(r),h=0,f=0;while(f<r){var p=d(e,h,h+=2);if(u(c,p))throw new i("String should only contain hex characters");a[f++]=s(p,16)}return{bytes:a,read:h}}},2603:function(e,t,n){"use strict";var r=n(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},2804:function(e){"use strict";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t+"+/",r=t+"-_",a=function(e){for(var t={},n=0;n<64;n++)t[e.charAt(n)]=n;return t};e.exports={i2c:n,c2i:a(n),i2cUrl:r,c2iUrl:a(r)}},2812:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},2967:function(e,t,n){"use strict";var r=n(6706),a=n(34),o=n(7750),i=n(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return o(n),i(r),a(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},3167:function(e,t,n){"use strict";var r=n(4901),a=n(34),o=n(2967);e.exports=function(e,t,n){var i,s;return o&&r(i=t.constructor)&&i!==n&&a(s=i.prototype)&&s!==n.prototype&&o(e,s),e}},3238:function(e,t,n){"use strict";var r=n(4576),a=n(7811),o=n(7394),i=r.DataView;e.exports=function(e){if(!a||0!==o(e))return!1;try{return new i(e),!1}catch(t){return!0}}},3463:function(e){"use strict";var t=TypeError;e.exports=function(e){if("string"==typeof e)return e;throw new t("Argument is not a string")}},3484:function(e,t,n){"use strict";n.d(t,{default:function(){return Ll}});var r={};n.r(r),n.d(r,{hasBrowserEnv:function(){return Pr},hasStandardBrowserEnv:function(){return Ur},hasStandardBrowserWebWorkerEnv:function(){return $r},navigator:function(){return Mr},origin:function(){return Nr}});n(4114),n(8111),n(1148),n(2489),n(116),n(7588),n(1701),n(8237),n(3579),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var a=n(6768),o=n(144);
/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */
const i="undefined"!==typeof document;function s(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function l(e){return e.__esModule||"Module"===e[Symbol.toStringTag]||e.default&&s(e.default)}const c=Object.assign;function u(e,t){const n={};for(const r in t){const a=t[r];n[r]=h(a)?a.map(e):e(a)}return n}const d=()=>{},h=Array.isArray;const f=/#/g,p=/&/g,m=/\//g,g=/=/g,v=/\?/g,y=/\+/g,b=/%5B/g,w=/%5D/g,E=/%5E/g,A=/%60/g,k=/%7B/g,S=/%7C/g,R=/%7D/g,T=/%20/g;function L(e){return encodeURI(""+e).replace(S,"|").replace(b,"[").replace(w,"]")}function C(e){return L(e).replace(k,"{").replace(R,"}").replace(E,"^")}function x(e){return L(e).replace(y,"%2B").replace(T,"+").replace(f,"%23").replace(p,"%26").replace(A,"`").replace(k,"{").replace(R,"}").replace(E,"^")}function O(e){return x(e).replace(g,"%3D")}function D(e){return L(e).replace(f,"%23").replace(v,"%3F")}function _(e){return null==e?"":D(e).replace(m,"%2F")}function I(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const P=/\/$/,M=e=>e.replace(P,"");function U(e,t,n="/"){let r,a={},o="",i="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,s>-1?s:t.length),a=e(o)),s>-1&&(r=r||t.slice(0,s),i=t.slice(s,t.length)),r=Y(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+i,path:r,query:a,hash:I(i)}}function $(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function N(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function B(e,t,n){const r=t.matched.length-1,a=n.matched.length-1;return r>-1&&r===a&&F(t.matched[r],n.matched[a])&&X(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function F(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function X(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!j(e[n],t[n]))return!1;return!0}function j(e,t){return h(e)?V(e,t):h(t)?V(t,e):e===t}function V(e,t){return h(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}function Y(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),a=r[r.length-1];".."!==a&&"."!==a||r.push("");let o,i,s=n.length-1;for(o=0;o<r.length;o++)if(i=r[o],"."!==i){if(".."!==i)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var q,K;(function(e){e["pop"]="pop",e["push"]="push"})(q||(q={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(K||(K={}));function W(e){if(!e)if(i){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),M(e)}const Q=/^[^#]+#/;function H(e,t){return e.replace(Q,"#")+t}function J(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const G=()=>({left:window.scrollX,top:window.scrollY});function Z(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const a="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!a)return;t=J(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function ee(e,t){const n=history.state?history.state.position-t:-1;return n+e}const te=new Map;function ne(e,t){te.set(e,t)}function re(e){const t=te.get(e);return te.delete(e),t}let ae=()=>location.protocol+"//"+location.host;function oe(e,t){const{pathname:n,search:r,hash:a}=t,o=e.indexOf("#");if(o>-1){let t=a.includes(e.slice(o))?e.slice(o).length:1,n=a.slice(t);return"/"!==n[0]&&(n="/"+n),N(n,"")}const i=N(n,e);return i+r+a}function ie(e,t,n,r){let a=[],o=[],i=null;const s=({state:o})=>{const s=oe(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=s,t.value=o,i&&i===l)return void(i=null);u=c?o.position-c.position:0}else r(s);a.forEach(e=>{e(n.value,l,{delta:u,type:q.pop,direction:u?u>0?K.forward:K.back:K.unknown})})};function l(){i=n.value}function u(e){a.push(e);const t=()=>{const t=a.indexOf(e);t>-1&&a.splice(t,1)};return o.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(c({},e.state,{scroll:G()}),"")}function h(){for(const e of o)e();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function se(e,t,n,r=!1,a=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:a?G():null}}function le(e){const{history:t,location:n}=window,r={value:oe(e,n)},a={value:t.state};function o(r,o,i){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:ae()+e+r;try{t[i?"replaceState":"pushState"](o,"",l),a.value=o}catch(c){console.error(c),n[i?"replace":"assign"](l)}}function i(e,n){const i=c({},t.state,se(a.value.back,e,a.value.forward,!0),n,{position:a.value.position});o(e,i,!0),r.value=e}function s(e,n){const i=c({},a.value,t.state,{forward:e,scroll:G()});o(i.current,i,!0);const s=c({},se(r.value,e,null),{position:i.position+1},n);o(e,s,!1),r.value=e}return a.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:a,push:s,replace:i}}function ce(e){e=W(e);const t=le(e),n=ie(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const a=c({location:"",base:e,go:r,createHref:H.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function ue(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),ce(e)}function de(e){return"string"===typeof e||e&&"object"===typeof e}function he(e){return"string"===typeof e||"symbol"===typeof e}const fe=Symbol("");var pe;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(pe||(pe={}));function me(e,t){return c(new Error,{type:e,[fe]:!0},t)}function ge(e,t){return e instanceof Error&&fe in e&&(null==t||!!(e.type&t))}const ve="[^/]+?",ye={sensitive:!1,strict:!1,start:!0,end:!0},be=/[.+*?^${}()[\]/\\]/g;function we(e,t){const n=c({},ye,t),r=[];let a=n.start?"^":"";const o=[];for(const c of e){const e=c.length?[]:[90];n.strict&&!c.length&&(a+="/");for(let t=0;t<c.length;t++){const r=c[t];let i=40+(n.sensitive?.25:0);if(0===r.type)t||(a+="/"),a+=r.value.replace(be,"\\$&"),i+=40;else if(1===r.type){const{value:e,repeatable:n,optional:s,regexp:l}=r;o.push({name:e,repeatable:n,optional:s});const d=l||ve;if(d!==ve){i+=10;try{new RegExp(`(${d})`)}catch(u){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+u.message)}}let h=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(h=s&&c.length<2?`(?:/${h})`:"/"+h),s&&(h+="?"),a+=h,i+=20,s&&(i+=-8),n&&(i+=-20),".*"===d&&(i+=-50)}e.push(i)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(a+="/?"),n.end?a+="$":n.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const i=new RegExp(a,n.sensitive?"":"i");function s(e){const t=e.match(i),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",a=o[r-1];n[a.name]=e&&a.repeatable?e.split("/"):e}return n}function l(t){let n="",r=!1;for(const a of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of a)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:i,optional:s}=e,l=o in t?t[o]:"";if(h(l)&&!i)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=h(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${o}"`);a.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}return{re:i,score:r,keys:o,parse:s,stringify:l}}function Ee(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Ae(e,t){let n=0;const r=e.score,a=t.score;while(n<r.length&&n<a.length){const e=Ee(r[n],a[n]);if(e)return e;n++}if(1===Math.abs(a.length-r.length)){if(ke(r))return 1;if(ke(a))return-1}return a.length-r.length}function ke(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Se={type:0,value:""},Re=/[a-zA-Z0-9_]/;function Te(e){if(!e)return[[]];if("/"===e)return[[Se]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const a=[];let o;function i(){o&&a.push(o),o=[]}let s,l=0,c="",u="";function d(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function h(){c+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&d(),i()):":"===s?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===s?n=2:Re.test(s)?h():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),i(),a}function Le(e,t,n){const r=we(Te(e.path),n);const a=c(r,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf===!t.record.aliasOf&&t.children.push(a),a}function Ce(e,t){const n=[],r=new Map;function a(e){return r.get(e)}function o(e,n,r){const a=!r,s=Oe(e);s.aliasOf=r&&r.record;const u=Pe(t,e),h=[s];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)h.push(Oe(c({},s,{components:r?r.record.components:s.components,path:e,aliasOf:r?r.record:s})))}let f,p;for(const t of h){const{path:c}=t;if(n&&"/"!==c[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(c&&r+c)}if(f=Le(t,n,u),r?r.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),a&&e.name&&!_e(f)&&i(e.name)),$e(f)&&l(f),s.children){const e=s.children;for(let t=0;t<e.length;t++)o(e[t],f,r&&r.children[t])}r=r||f}return p?()=>{i(p)}:d}function i(e){if(he(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function s(){return n}function l(e){const t=Me(e,n);n.splice(t,0,e),e.record.name&&!_e(e)&&r.set(e.record.name,e)}function u(e,t){let a,o,i,s={};if("name"in e&&e.name){if(a=r.get(e.name),!a)throw me(1,{location:e});0,i=a.record.name,s=c(xe(t.params,a.keys.filter(e=>!e.optional).concat(a.parent?a.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&xe(e.params,a.keys.map(e=>e.name))),o=a.stringify(s)}else if(null!=e.path)o=e.path,a=n.find(e=>e.re.test(o)),a&&(s=a.parse(o),i=a.record.name);else{if(a=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!a)throw me(1,{location:e,currentLocation:t});i=a.record.name,s=c({},t.params,e.params),o=a.stringify(s)}const l=[];let u=a;while(u)l.unshift(u.record),u=u.parent;return{name:i,path:o,params:s,matched:l,meta:Ie(l)}}function h(){n.length=0,r.clear()}return t=Pe({strict:!1,end:!0,sensitive:!1},t),e.forEach(e=>o(e)),{addRoute:o,resolve:u,removeRoute:i,clearRoutes:h,getRoutes:s,getRecordMatcher:a}}function xe(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Oe(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:De(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function De(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"===typeof n?n[r]:n;return t}function _e(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ie(e){return e.reduce((e,t)=>c(e,t.meta),{})}function Pe(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Me(e,t){let n=0,r=t.length;while(n!==r){const a=n+r>>1,o=Ae(e,t[a]);o<0?r=a:n=a+1}const a=Ue(e);return a&&(r=t.lastIndexOf(a,r-1)),r}function Ue(e){let t=e;while(t=t.parent)if($e(t)&&0===Ae(e,t))return t}function $e({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ne(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let a=0;a<r.length;++a){const e=r[a].replace(y," "),n=e.indexOf("="),o=I(n<0?e:e.slice(0,n)),i=n<0?null:I(e.slice(n+1));if(o in t){let e=t[o];h(e)||(e=t[o]=[e]),e.push(i)}else t[o]=i}return t}function Be(e){let t="";for(let n in e){const r=e[n];if(n=O(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const a=h(r)?r.map(e=>e&&x(e)):[r&&x(r)];a.forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})}return t}function Fe(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=h(r)?r.map(e=>null==e?null:""+e):null==r?r:""+r)}return t}const Xe=Symbol(""),je=Symbol(""),Ve=Symbol(""),Ye=Symbol(""),ze=Symbol("");function qe(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ke(e,t,n,r,a,o=e=>e()){const i=r&&(r.enterCallbacks[a]=r.enterCallbacks[a]||[]);return()=>new Promise((s,l)=>{const c=e=>{!1===e?l(me(4,{from:n,to:t})):e instanceof Error?l(e):de(e)?l(me(2,{from:t,to:e})):(i&&r.enterCallbacks[a]===i&&"function"===typeof e&&i.push(e),s())},u=o(()=>e.call(r&&r.instances[a],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(e=>l(e))})}function We(e,t,n,r,a=e=>e()){const o=[];for(const i of e){0;for(const e in i.components){let c=i.components[e];if("beforeRouteEnter"===t||i.instances[e])if(s(c)){const s=c.__vccOpts||c,l=s[t];l&&o.push(Ke(l,n,r,i,e,a))}else{let s=c();0,o.push(()=>s.then(o=>{if(!o)throw new Error(`Couldn't resolve component "${e}" at "${i.path}"`);const s=l(o)?o.default:o;i.mods[e]=o,i.components[e]=s;const c=s.__vccOpts||s,u=c[t];return u&&Ke(u,n,r,i,e,a)()}))}}}return o}function Qe(e){const t=(0,a.WQ)(Ve),n=(0,a.WQ)(Ye);const r=(0,a.EW)(()=>{const n=(0,o.R1)(e.to);return t.resolve(n)}),i=(0,a.EW)(()=>{const{matched:e}=r.value,{length:t}=e,a=e[t-1],o=n.matched;if(!a||!o.length)return-1;const i=o.findIndex(F.bind(null,a));if(i>-1)return i;const s=tt(e[t-2]);return t>1&&tt(a)===s&&o[o.length-1].path!==s?o.findIndex(F.bind(null,e[t-2])):i}),s=(0,a.EW)(()=>i.value>-1&&et(n.params,r.value.params)),l=(0,a.EW)(()=>i.value>-1&&i.value===n.matched.length-1&&X(n.params,r.value.params));function c(n={}){if(Ze(n)){const n=t[(0,o.R1)(e.replace)?"replace":"push"]((0,o.R1)(e.to)).catch(d);return e.viewTransition&&"undefined"!==typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}return{route:r,href:(0,a.EW)(()=>r.value.href),isActive:s,isExactActive:l,navigate:c}}function He(e){return 1===e.length?e[0]:e}const Je=(0,a.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Qe,setup(e,{slots:t}){const n=(0,o.Kh)(Qe(e)),{options:r}=(0,a.WQ)(Ve),i=(0,a.EW)(()=>({[nt(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[nt(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&He(t.default(n));return e.custom?r:(0,a.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),Ge=Je;function Ze(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function et(e,t){for(const n in t){const r=t[n],a=e[n];if("string"===typeof r){if(r!==a)return!1}else if(!h(a)||a.length!==r.length||r.some((e,t)=>e!==a[t]))return!1}return!0}function tt(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const nt=(e,t,n)=>null!=e?e:null!=t?t:n,rt=(0,a.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=(0,a.WQ)(ze),i=(0,a.EW)(()=>e.route||r.value),s=(0,a.WQ)(je,0),l=(0,a.EW)(()=>{let e=(0,o.R1)(s);const{matched:t}=i.value;let n;while((n=t[e])&&!n.components)e++;return e}),u=(0,a.EW)(()=>i.value.matched[l.value]);(0,a.Gt)(je,(0,a.EW)(()=>l.value+1)),(0,a.Gt)(Xe,u),(0,a.Gt)(ze,i);const d=(0,o.KR)();return(0,a.wB)(()=>[d.value,u.value,e.name],([e,t,n],[r,a,o])=>{t&&(t.instances[n]=e,a&&a!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=a.leaveGuards),t.updateGuards.size||(t.updateGuards=a.updateGuards))),!e||!t||a&&F(t,a)&&r||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const r=i.value,o=e.name,s=u.value,l=s&&s.components[o];if(!l)return at(n.default,{Component:l,route:r});const h=s.props[o],f=h?!0===h?r.params:"function"===typeof h?h(r):h:null,p=e=>{e.component.isUnmounted&&(s.instances[o]=null)},m=(0,a.h)(l,c({},f,t,{onVnodeUnmounted:p,ref:d}));return at(n.default,{Component:m,route:r})||m}}});function at(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const ot=rt;function it(e){const t=Ce(e.routes,e),n=e.parseQuery||Ne,r=e.stringifyQuery||Be,s=e.history;const l=qe(),f=qe(),p=qe(),m=(0,o.IJ)(z);let g=z;i&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=u.bind(null,e=>""+e),y=u.bind(null,_),b=u.bind(null,I);function w(e,n){let r,a;return he(e)?(r=t.getRecordMatcher(e),a=n):a=e,t.addRoute(a,r)}function E(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function A(){return t.getRoutes().map(e=>e.record)}function k(e){return!!t.getRecordMatcher(e)}function S(e,a){if(a=c({},a||m.value),"string"===typeof e){const r=U(n,e,a.path),o=t.resolve({path:r.path},a),i=s.createHref(r.fullPath);return c(r,o,{params:b(o.params),hash:I(r.hash),redirectedFrom:void 0,href:i})}let o;if(null!=e.path)o=c({},e,{path:U(n,e.path,a.path).path});else{const t=c({},e.params);for(const e in t)null==t[e]&&delete t[e];o=c({},e,{params:y(t)}),a.params=y(a.params)}const i=t.resolve(o,a),l=e.hash||"";i.params=v(b(i.params));const u=$(r,c({},e,{hash:C(l),path:i.path})),d=s.createHref(u);return c({fullPath:u,hash:l,query:r===Be?Fe(e.query):e.query||{}},i,{redirectedFrom:void 0,href:d})}function R(e){return"string"===typeof e?U(n,e,m.value.path):c({},e)}function T(e,t){if(g!==e)return me(8,{from:t,to:e})}function L(e){return D(e)}function x(e){return L(c(R(e),{replace:!0}))}function O(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=R(r):{path:r},r.params={}),c({query:e.query,hash:e.hash,params:null!=r.path?{}:e.params},r)}}function D(e,t){const n=g=S(e),a=m.value,o=e.state,i=e.force,s=!0===e.replace,l=O(n);if(l)return D(c(R(l),{state:"object"===typeof l?c({},o,l.state):o,force:i,replace:s}),t||n);const u=n;let d;return u.redirectedFrom=t,!i&&B(r,a,n)&&(d=me(16,{to:u,from:a}),te(a,a,!0,!1)),(d?Promise.resolve(d):N(u,a)).catch(e=>ge(e)?ge(e,2)?e:J(e):Q(e,u,a)).then(e=>{if(e){if(ge(e,2))return D(c({replace:s},R(e.to),{state:"object"===typeof e.to?c({},o,e.to.state):o,force:i}),t||u)}else e=X(u,a,!0,s,o);return F(u,a,e),e})}function P(e,t){const n=T(e,t);return n?Promise.reject(n):Promise.resolve()}function M(e){const t=ie.values().next().value;return t&&"function"===typeof t.runWithContext?t.runWithContext(e):e()}function N(e,t){let n;const[r,a,o]=st(e,t);n=We(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach(r=>{n.push(Ke(r,e,t))});const i=P.bind(null,e,t);return n.push(i),le(n).then(()=>{n=[];for(const r of l.list())n.push(Ke(r,e,t));return n.push(i),le(n)}).then(()=>{n=We(a,"beforeRouteUpdate",e,t);for(const r of a)r.updateGuards.forEach(r=>{n.push(Ke(r,e,t))});return n.push(i),le(n)}).then(()=>{n=[];for(const r of o)if(r.beforeEnter)if(h(r.beforeEnter))for(const a of r.beforeEnter)n.push(Ke(a,e,t));else n.push(Ke(r.beforeEnter,e,t));return n.push(i),le(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=We(o,"beforeRouteEnter",e,t,M),n.push(i),le(n))).then(()=>{n=[];for(const r of f.list())n.push(Ke(r,e,t));return n.push(i),le(n)}).catch(e=>ge(e,8)?e:Promise.reject(e))}function F(e,t,n){p.list().forEach(r=>M(()=>r(e,t,n)))}function X(e,t,n,r,a){const o=T(e,t);if(o)return o;const l=t===z,u=i?history.state:{};n&&(r||l?s.replace(e.fullPath,c({scroll:l&&u&&u.scroll},a)):s.push(e.fullPath,a)),m.value=e,te(e,t,n,l),J()}let j;function V(){j||(j=s.listen((e,t,n)=>{if(!se.listening)return;const r=S(e),a=O(r);if(a)return void D(c(a,{replace:!0,force:!0}),r).catch(d);g=r;const o=m.value;i&&ne(ee(o.fullPath,n.delta),G()),N(r,o).catch(e=>ge(e,12)?e:ge(e,2)?(D(c(R(e.to),{force:!0}),r).then(e=>{ge(e,20)&&!n.delta&&n.type===q.pop&&s.go(-1,!1)}).catch(d),Promise.reject()):(n.delta&&s.go(-n.delta,!1),Q(e,r,o))).then(e=>{e=e||X(r,o,!1),e&&(n.delta&&!ge(e,8)?s.go(-n.delta,!1):n.type===q.pop&&ge(e,20)&&s.go(-1,!1)),F(r,o,e)}).catch(d)}))}let Y,K=qe(),W=qe();function Q(e,t,n){J(e);const r=W.list();return r.length?r.forEach(r=>r(e,t,n)):console.error(e),Promise.reject(e)}function H(){return Y&&m.value!==z?Promise.resolve():new Promise((e,t)=>{K.add([e,t])})}function J(e){return Y||(Y=!e,V(),K.list().forEach(([t,n])=>e?n(e):t()),K.reset()),e}function te(t,n,r,o){const{scrollBehavior:s}=e;if(!i||!s)return Promise.resolve();const l=!r&&re(ee(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return(0,a.dY)().then(()=>s(t,n,l)).then(e=>e&&Z(e)).catch(e=>Q(e,t,n))}const ae=e=>s.go(e);let oe;const ie=new Set,se={currentRoute:m,listening:!0,addRoute:w,removeRoute:E,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:A,resolve:S,options:e,push:L,replace:x,go:ae,back:()=>ae(-1),forward:()=>ae(1),beforeEach:l.add,beforeResolve:f.add,afterEach:p.add,onError:W.add,isReady:H,install(e){const t=this;e.component("RouterLink",Ge),e.component("RouterView",ot),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,o.R1)(m)}),i&&!oe&&m.value===z&&(oe=!0,L(s.location).catch(e=>{0}));const n={};for(const a in z)Object.defineProperty(n,a,{get:()=>m.value[a],enumerable:!0});e.provide(Ve,t),e.provide(Ye,(0,o.Gc)(n)),e.provide(ze,m);const r=e.unmount;ie.add(e),e.unmount=function(){ie.delete(e),ie.size<1&&(g=z,j&&j(),j=null,m.value=z,oe=!1,Y=!1),r()}}};function le(e){return e.reduce((e,t)=>e.then(()=>M(t)),Promise.resolve())}return se}function st(e,t){const n=[],r=[],a=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const o=t.matched[i];o&&(e.matched.find(e=>F(e,o))?r.push(o):n.push(o));const s=e.matched[i];s&&(t.matched.find(e=>F(e,s))||a.push(s))}return[n,r,a]}function lt(){return(0,a.WQ)(Ve)}function ct(e){return(0,a.WQ)(Ye)}var ut=n(4232),dt=n(5130);const ht={class:"home"},ft={class:"header"},pt={class:"baby-info"},mt={class:"info"},gt={class:"baby-age"},vt={class:"stats"},yt={class:"stat-item"},bt={class:"stat-number"},wt={class:"stat-item"},Et={class:"stat-number"},At={class:"stat-item"},kt={class:"stat-number"},St={class:"stat-item"},Rt={class:"stat-number"},Tt={class:"timeline-container"},Lt={class:"timeline-header"},Ct={class:"sort-control"},xt={class:"sort-checkbox"},Ot={class:"sort-label"},Dt={key:0,class:"loading-container"},_t={key:1,class:"error-container"},It={key:2,class:"timeline"},Pt={class:"period-header"},Mt={class:"period-age"},Ut={class:"period-date"},$t={class:"events-grid"},Nt=["data-event-id","onClick"],Bt={class:"event-photos"},Ft={key:0,class:"more-photos"},Xt={class:"event-info"},jt={class:"event-title"},Vt={class:"event-description"},Yt={class:"event-meta"},zt={key:0,class:"audio-indicator"},qt={key:1,class:"video-indicator"},Kt={class:"photo-count"},Wt={key:2,class:"video-count"},Qt={key:3,class:"audio-count"};function Ht(e,t,n,r,o,i){const s=(0,a.g2)("LazyImage"),l=(0,a.g2)("PerformancePanel");return(0,a.uX)(),(0,a.CE)("div",ht,[(0,a.Lk)("header",ft,[(0,a.Lk)("div",pt,[t[5]||(t[5]=(0,a.Lk)("div",{class:"avatar"},"👶",-1)),(0,a.Lk)("div",mt,[t[4]||(t[4]=(0,a.Lk)("h1",{class:"baby-name"},"刘知许小朋友",-1)),(0,a.Lk)("p",gt,(0,ut.v_)(r.currentAge),1)])]),(0,a.Lk)("div",vt,[(0,a.Lk)("div",yt,[(0,a.Lk)("div",bt,(0,ut.v_)(r.totalEvents),1),t[6]||(t[6]=(0,a.Lk)("div",{class:"stat-label"},"个事件",-1))]),(0,a.Lk)("div",wt,[(0,a.Lk)("div",Et,(0,ut.v_)(r.totalPhotos),1),t[7]||(t[7]=(0,a.Lk)("div",{class:"stat-label"},"张照片",-1))]),(0,a.Lk)("div",At,[(0,a.Lk)("div",kt,(0,ut.v_)(r.totalVideos),1),t[8]||(t[8]=(0,a.Lk)("div",{class:"stat-label"},"个视频",-1))]),(0,a.Lk)("div",St,[(0,a.Lk)("div",Rt,(0,ut.v_)(r.totalAudios),1),t[9]||(t[9]=(0,a.Lk)("div",{class:"stat-label"},"段录音",-1))])])]),(0,a.Lk)("div",Tt,[(0,a.Lk)("div",Lt,[t[11]||(t[11]=(0,a.Lk)("h2",{class:"timeline-title"},"成长时光轴",-1)),(0,a.Lk)("div",Ct,[(0,a.Lk)("label",xt,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=e=>r.sortAscending=e),onChange:t[1]||(t[1]=(...e)=>r.onSortChange&&r.onSortChange(...e))},null,544),[[dt.lH,r.sortAscending]]),t[10]||(t[10]=(0,a.Lk)("span",{class:"checkmark"},null,-1)),(0,a.Lk)("span",Ot,(0,ut.v_)(r.sortAscending?"最新在下":"最新在上"),1)])])]),r.loading?((0,a.uX)(),(0,a.CE)("div",Dt,[...t[12]||(t[12]=[(0,a.Lk)("div",{class:"loading-spinner"},"⏳",-1),(0,a.Lk)("p",null,"正在加载成长记录...",-1)])])):r.error?((0,a.uX)(),(0,a.CE)("div",_t,[t[13]||(t[13]=(0,a.Lk)("div",{class:"error-icon"},"⚠️",-1)),(0,a.Lk)("p",null,(0,ut.v_)(r.error),1),(0,a.Lk)("button",{class:"retry-btn",onClick:t[2]||(t[2]=(...e)=>r.loadEventsList&&r.loadEventsList(...e))},"重试")])):((0,a.uX)(),(0,a.CE)("div",It,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.sortedTimelinePeriods,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"timeline-period"},[(0,a.Lk)("div",Pt,[(0,a.Lk)("div",Mt,(0,ut.v_)(e.age),1),(0,a.Lk)("div",Ut,(0,ut.v_)(e.date),1)]),(0,a.Lk)("div",$t,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.events,e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"event-card","data-event-id":e.id,onClick:t=>r.viewEvent(e)},[(0,a.Lk)("div",Bt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.getAllMediaItems(e).slice(0,4),(n,o)=>((0,a.uX)(),(0,a.Wv)(s,{key:`${n.type}-${o}`,src:r.getMediaUrl(e.id,n.fileName,!0),alt:`${e.title} - ${"video"===n.type?"视频":"图片"}${o+1}`,small:r.getAllMediaItems(e).length>1,preload:r.shouldPreloadImage(t,o),priority:r.getImagePriority(t,o),threshold:r.loadingStrategy.threshold,class:(0,ut.C4)(["photo-item",{small:r.getAllMediaItems(e).length>1,"video-thumbnail":"video"===n.type}])},null,8,["src","alt","small","preload","priority","threshold","class"]))),128)),r.getAllMediaItems(e).length>4?((0,a.uX)(),(0,a.CE)("div",Ft," +"+(0,ut.v_)(r.getAllMediaItems(e).length-4),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Xt,[(0,a.Lk)("h3",jt,(0,ut.v_)(e.title),1),(0,a.Lk)("p",Vt,(0,ut.v_)(e.description),1),(0,a.Lk)("div",Yt,[e.media.audios.length>0?((0,a.uX)(),(0,a.CE)("span",zt,"🎵")):(0,a.Q3)("",!0),e.media.videos.length>0?((0,a.uX)(),(0,a.CE)("span",qt,"🎬")):(0,a.Q3)("",!0),(0,a.Lk)("span",Kt,(0,ut.v_)(e.media.images.length)+"张照片",1),e.media.videos.length>0?((0,a.uX)(),(0,a.CE)("span",Wt,(0,ut.v_)(e.media.videos.length)+"个视频",1)):(0,a.Q3)("",!0),e.media.audios.length>0?((0,a.uX)(),(0,a.CE)("span",Qt,(0,ut.v_)(e.media.audios.length)+"段音频",1)):(0,a.Q3)("",!0)])])],8,Nt))),128))])]))),128))]))]),(0,a.Lk)("button",{class:"fab",onClick:t[3]||(t[3]=(...e)=>r.addEvent&&r.addEvent(...e))}," ➕ "),(0,a.bF)(l)])}n(531);var Jt=n(1576),Gt=n.n(Jt);n(6573),n(8100),n(7936),n(9577),n(1549),n(9797),n(9631),n(5623),n(9848);function Zt(e,t){return function(){return e.apply(t,arguments)}}const{toString:en}=Object.prototype,{getPrototypeOf:tn}=Object,{iterator:nn,toStringTag:rn}=Symbol,an=(e=>t=>{const n=en.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),on=e=>(e=e.toLowerCase(),t=>an(t)===e),sn=e=>t=>typeof t===e,{isArray:ln}=Array,cn=sn("undefined");function un(e){return null!==e&&!cn(e)&&null!==e.constructor&&!cn(e.constructor)&&pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dn=on("ArrayBuffer");function hn(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&dn(e.buffer),t}const fn=sn("string"),pn=sn("function"),mn=sn("number"),gn=e=>null!==e&&"object"===typeof e,vn=e=>!0===e||!1===e,yn=e=>{if("object"!==an(e))return!1;const t=tn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(rn in e)&&!(nn in e)},bn=e=>{if(!gn(e)||un(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},wn=on("Date"),En=on("File"),An=on("Blob"),kn=on("FileList"),Sn=e=>gn(e)&&pn(e.pipe),Rn=e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||pn(e.append)&&("formdata"===(t=an(e))||"object"===t&&pn(e.toString)&&"[object FormData]"===e.toString()))},Tn=on("URLSearchParams"),[Ln,Cn,xn,On]=["ReadableStream","Request","Response","Headers"].map(on),Dn=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _n(e,t,{allOwnKeys:n=!1}={}){if(null===e||"undefined"===typeof e)return;let r,a;if("object"!==typeof e&&(e=[e]),ln(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(un(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let i;for(r=0;r<o;r++)i=a[r],t.call(null,e[i],i,e)}}function In(e,t){if(un(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;while(a-- >0)if(r=n[a],t===r.toLowerCase())return r;return null}const Pn=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),Mn=e=>!cn(e)&&e!==Pn;function Un(){const{caseless:e,skipUndefined:t}=Mn(this)&&this||{},n={},r=(r,a)=>{const o=e&&In(n,a)||a;yn(n[o])&&yn(r)?n[o]=Un(n[o],r):yn(r)?n[o]=Un({},r):ln(r)?n[o]=r.slice():t&&cn(r)||(n[o]=r)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&_n(arguments[a],r);return n}const $n=(e,t,n,{allOwnKeys:r}={})=>(_n(t,(t,r)=>{n&&pn(t)?e[r]=Zt(t,n):e[r]=t},{allOwnKeys:r}),e),Nn=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),Bn=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Fn=(e,t,n,r)=>{let a,o,i;const s={};if(t=t||{},null==e)return t;do{a=Object.getOwnPropertyNames(e),o=a.length;while(o-- >0)i=a[o],r&&!r(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==n&&tn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Xn=(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},jn=e=>{if(!e)return null;if(ln(e))return e;let t=e.length;if(!mn(t))return null;const n=new Array(t);while(t-- >0)n[t]=e[t];return n},Vn=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&tn(Uint8Array)),Yn=(e,t)=>{const n=e&&e[nn],r=n.call(e);let a;while((a=r.next())&&!a.done){const n=a.value;t.call(e,n[0],n[1])}},zn=(e,t)=>{let n;const r=[];while(null!==(n=e.exec(t)))r.push(n);return r},qn=on("HTMLFormElement"),Kn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),Wn=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Qn=on("RegExp"),Hn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};_n(n,(n,a)=>{let o;!1!==(o=t(n,a,e))&&(r[a]=o||n)}),Object.defineProperties(e,r)},Jn=e=>{Hn(e,(t,n)=>{if(pn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];pn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},Gn=(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return ln(e)?r(e):r(String(e).split(t)),n},Zn=()=>{},er=(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t;function tr(e){return!!(e&&pn(e.append)&&"FormData"===e[rn]&&e[nn])}const nr=e=>{const t=new Array(10),n=(e,r)=>{if(gn(e)){if(t.indexOf(e)>=0)return;if(un(e))return e;if(!("toJSON"in e)){t[r]=e;const a=ln(e)?[]:{};return _n(e,(e,t)=>{const o=n(e,r+1);!cn(o)&&(a[t]=o)}),t[r]=void 0,a}}return e};return n(e,0)},rr=on("AsyncFunction"),ar=e=>e&&(gn(e)||pn(e))&&pn(e.then)&&pn(e.catch),or=((e,t)=>e?setImmediate:t?((e,t)=>(Pn.addEventListener("message",({source:n,data:r})=>{n===Pn&&r===e&&t.length&&t.shift()()},!1),n=>{t.push(n),Pn.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))("function"===typeof setImmediate,pn(Pn.postMessage)),ir="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Pn):"undefined"!==typeof process&&process.nextTick||or,sr=e=>null!=e&&pn(e[nn]);var lr={isArray:ln,isArrayBuffer:dn,isBuffer:un,isFormData:Rn,isArrayBufferView:hn,isString:fn,isNumber:mn,isBoolean:vn,isObject:gn,isPlainObject:yn,isEmptyObject:bn,isReadableStream:Ln,isRequest:Cn,isResponse:xn,isHeaders:On,isUndefined:cn,isDate:wn,isFile:En,isBlob:An,isRegExp:Qn,isFunction:pn,isStream:Sn,isURLSearchParams:Tn,isTypedArray:Vn,isFileList:kn,forEach:_n,merge:Un,extend:$n,trim:Dn,stripBOM:Nn,inherits:Bn,toFlatObject:Fn,kindOf:an,kindOfTest:on,endsWith:Xn,toArray:jn,forEachEntry:Yn,matchAll:zn,isHTMLForm:qn,hasOwnProperty:Wn,hasOwnProp:Wn,reduceDescriptors:Hn,freezeMethods:Jn,toObjectSet:Gn,toCamelCase:Kn,noop:Zn,toFiniteNumber:er,findKey:In,global:Pn,isContextDefined:Mn,isSpecCompliantForm:tr,toJSONObject:nr,isAsyncFn:rr,isThenable:ar,setImmediate:or,asap:ir,isIterable:sr};n(1806);function cr(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}lr.inherits(cr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lr.toJSONObject(this.config),code:this.code,status:this.status}}});const ur=cr.prototype,dr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dr[e]={value:e}}),Object.defineProperties(cr,dr),Object.defineProperty(ur,"isAxiosError",{value:!0}),cr.from=(e,t,n,r,a,o)=>{const i=Object.create(ur);lr.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return cr.call(i,s,l,n,r,a),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};var hr=cr,fr=null;function pr(e){return lr.isPlainObject(e)||lr.isArray(e)}function mr(e){return lr.endsWith(e,"[]")?e.slice(0,-2):e}function gr(e,t,n){return e?e.concat(t).map(function(e,t){return e=mr(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}function vr(e){return lr.isArray(e)&&!e.some(pr)}const yr=lr.toFlatObject(lr,{},null,function(e){return/^is[A-Z]/.test(e)});function br(e,t,n){if(!lr.isObject(e))throw new TypeError("target must be an object");t=t||new(fr||FormData),n=lr.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!lr.isUndefined(t[e])});const r=n.metaTokens,a=n.visitor||u,o=n.dots,i=n.indexes,s=n.Blob||"undefined"!==typeof Blob&&Blob,l=s&&lr.isSpecCompliantForm(t);if(!lr.isFunction(a))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(lr.isDate(e))return e.toISOString();if(lr.isBoolean(e))return e.toString();if(!l&&lr.isBlob(e))throw new hr("Blob is not supported. Use a Buffer instead.");return lr.isArrayBuffer(e)||lr.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,a){let s=e;if(e&&!a&&"object"===typeof e)if(lr.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(lr.isArray(e)&&vr(e)||(lr.isFileList(e)||lr.endsWith(n,"[]"))&&(s=lr.toArray(e)))return n=mr(n),s.forEach(function(e,r){!lr.isUndefined(e)&&null!==e&&t.append(!0===i?gr([n],r,o):null===i?n:n+"[]",c(e))}),!1;return!!pr(e)||(t.append(gr(a,n,o),c(e)),!1)}const d=[],h=Object.assign(yr,{defaultVisitor:u,convertValue:c,isVisitable:pr});function f(e,n){if(!lr.isUndefined(e)){if(-1!==d.indexOf(e))throw Error("Circular reference detected in "+n.join("."));d.push(e),lr.forEach(e,function(e,r){const o=!(lr.isUndefined(e)||null===e)&&a.call(t,e,lr.isString(r)?r.trim():r,n,h);!0===o&&f(e,n?n.concat(r):[r])}),d.pop()}}if(!lr.isObject(e))throw new TypeError("data must be an object");return f(e),t}var wr=br;function Er(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ar(e,t){this._pairs=[],e&&wr(e,this,t)}const kr=Ar.prototype;kr.append=function(e,t){this._pairs.push([e,t])},kr.toString=function(e){const t=e?function(t){return e.call(this,t,Er)}:Er;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var Sr=Ar;function Rr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Tr(e,t,n){if(!t)return e;const r=n&&n.encode||Rr;lr.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(o=a?a(t,n):lr.isURLSearchParams(t)?t.toString():new Sr(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}class Lr{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){lr.forEach(this.handlers,function(t){null!==t&&e(t)})}}var Cr=Lr,xr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Or=(n(4603),n(7566),n(8721),"undefined"!==typeof URLSearchParams?URLSearchParams:Sr),Dr="undefined"!==typeof FormData?FormData:null,_r="undefined"!==typeof Blob?Blob:null,Ir={isBrowser:!0,classes:{URLSearchParams:Or,FormData:Dr,Blob:_r},protocols:["http","https","file","blob","url","data"]};const Pr="undefined"!==typeof window&&"undefined"!==typeof document,Mr="object"===typeof navigator&&navigator||void 0,Ur=Pr&&(!Mr||["ReactNative","NativeScript","NS"].indexOf(Mr.product)<0),$r=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),Nr=Pr&&window.location.href||"http://localhost";var Br={...r,...Ir};function Fr(e,t){return wr(e,new Br.classes.URLSearchParams,{visitor:function(e,t,n,r){return Br.isNode&&lr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function Xr(e){return lr.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}function jr(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}function Vr(e){function t(e,n,r,a){let o=e[a++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),s=a>=e.length;if(o=!o&&lr.isArray(r)?r.length:o,s)return lr.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!i;r[o]&&lr.isObject(r[o])||(r[o]=[]);const l=t(e,n,r[o],a);return l&&lr.isArray(r[o])&&(r[o]=jr(r[o])),!i}if(lr.isFormData(e)&&lr.isFunction(e.entries)){const n={};return lr.forEachEntry(e,(e,r)=>{t(Xr(e),r,n,0)}),n}return null}var Yr=Vr;function zr(e,t,n){if(lr.isString(e))try{return(t||JSON.parse)(e),lr.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}const qr={transitional:xr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=lr.isObject(e);a&&lr.isHTMLForm(e)&&(e=new FormData(e));const o=lr.isFormData(e);if(o)return r?JSON.stringify(Yr(e)):e;if(lr.isArrayBuffer(e)||lr.isBuffer(e)||lr.isStream(e)||lr.isFile(e)||lr.isBlob(e)||lr.isReadableStream(e))return e;if(lr.isArrayBufferView(e))return e.buffer;if(lr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Fr(e,this.formSerializer).toString();if((i=lr.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return wr(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),zr(e)):e}],transformResponse:[function(e){const t=this.transitional||qr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(lr.isResponse(e)||lr.isReadableStream(e))return e;if(e&&lr.isString(e)&&(n&&!this.responseType||r)){const n=t&&t.silentJSONParsing,o=!n&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o){if("SyntaxError"===a.name)throw hr.from(a,hr.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Br.classes.FormData,Blob:Br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lr.forEach(["delete","get","head","post","put","patch"],e=>{qr.headers[e]={}});var Kr=qr;const Wr=lr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Qr=e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Wr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t};const Hr=Symbol("internals");function Jr(e){return e&&String(e).trim().toLowerCase()}function Gr(e){return!1===e||null==e?e:lr.isArray(e)?e.map(Gr):String(e)}function Zr(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;while(r=n.exec(e))t[r[1]]=r[2];return t}const ea=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ta(e,t,n,r,a){return lr.isFunction(r)?r.call(this,t,n):(a&&(t=n),lr.isString(t)?lr.isString(r)?-1!==t.indexOf(r):lr.isRegExp(r)?r.test(t):void 0:void 0)}function na(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function ra(e,t){const n=lr.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}class aa{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Jr(t);if(!a)throw new Error("header name must be a non-empty string");const o=lr.findKey(r,a);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Gr(e))}const o=(e,t)=>lr.forEach(e,(e,n)=>a(e,n,t));if(lr.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(lr.isString(e)&&(e=e.trim())&&!ea(e))o(Qr(e),t);else if(lr.isObject(e)&&lr.isIterable(e)){let n,r,a={};for(const t of e){if(!lr.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?lr.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Jr(e),e){const n=lr.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return Zr(e);if(lr.isFunction(t))return t.call(this,e,n);if(lr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Jr(e),e){const n=lr.findKey(this,e);return!(!n||void 0===this[n]||t&&!ta(this,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Jr(e),e){const a=lr.findKey(n,e);!a||t&&!ta(n,n[a],a,t)||(delete n[a],r=!0)}}return lr.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;while(n--){const a=t[n];e&&!ta(this,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return lr.forEach(this,(r,a)=>{const o=lr.findKey(n,a);if(o)return t[o]=Gr(r),void delete t[a];const i=e?na(a):String(a).trim();i!==a&&delete t[a],t[i]=Gr(r),n[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return lr.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&lr.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=this[Hr]=this[Hr]={accessors:{}},n=t.accessors,r=this.prototype;function a(e){const t=Jr(e);n[t]||(ra(r,e),n[t]=!0)}return lr.isArray(e)?e.forEach(a):a(e),this}}aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),lr.reduceDescriptors(aa.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),lr.freezeMethods(aa);var oa=aa;function ia(e,t){const n=this||Kr,r=t||n,a=oa.from(r.headers);let o=r.data;return lr.forEach(e,function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function sa(e){return!(!e||!e.__CANCEL__)}function la(e,t,n){hr.call(this,null==e?"canceled":e,hr.ERR_CANCELED,t,n),this.name="CanceledError"}lr.inherits(la,hr,{__CANCEL__:!0});var ca=la;function ua(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new hr("Request failed with status code "+n.status,[hr.ERR_BAD_REQUEST,hr.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}function da(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ha(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,o=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[i];a||(a=l),n[o]=s,r[o]=l;let u=i,d=0;while(u!==o)d+=n[u++],u%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}var fa=ha;function pa(e,t){let n,r,a=0,o=1e3/t;const i=(t,o=Date.now())=>{a=o,n=null,r&&(clearTimeout(r),r=null),e(...t)},s=(...e)=>{const t=Date.now(),s=t-a;s>=o?i(e,t):(n=e,r||(r=setTimeout(()=>{r=null,i(n)},o-s)))},l=()=>n&&i(n);return[s,l]}var ma=pa;const ga=(e,t,n=3)=>{let r=0;const a=fa(50,250);return ma(n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,s=o-r,l=a(s),c=o<=i;r=o;const u={loaded:o,total:i,progress:i?o/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&c?(i-o)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0};e(u)},n)},va=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ya=e=>(...t)=>lr.asap(()=>e(...t));n(4979);var ba=Br.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Br.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Br.origin),Br.navigator&&/(msie|trident)/i.test(Br.navigator.userAgent)):()=>!0,wa=Br.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const i=[e+"="+encodeURIComponent(t)];lr.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),lr.isString(r)&&i.push("path="+r),lr.isString(a)&&i.push("domain="+a),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ea(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Aa(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ka(e,t,n){let r=!Ea(t);return e&&(r||0==n)?Aa(e,t):t}const Sa=e=>e instanceof oa?{...e}:e;function Ra(e,t){t=t||{};const n={};function r(e,t,n,r){return lr.isPlainObject(e)&&lr.isPlainObject(t)?lr.merge.call({caseless:r},e,t):lr.isPlainObject(t)?lr.merge({},t):lr.isArray(t)?t.slice():t}function a(e,t,n,a){return lr.isUndefined(t)?lr.isUndefined(e)?void 0:r(void 0,e,n,a):r(e,t,n,a)}function o(e,t){if(!lr.isUndefined(t))return r(void 0,t)}function i(e,t){return lr.isUndefined(t)?lr.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,a,o){return o in t?r(n,a):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>a(Sa(e),Sa(t),n,!0)};return lr.forEach(Object.keys({...e,...t}),function(r){const o=l[r]||a,i=o(e[r],t[r],r);lr.isUndefined(i)&&o!==s||(n[r]=i)}),n}var Ta=e=>{const t=Ra({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:s}=t;if(t.headers=i=oa.from(i),t.url=Tr(ka(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),lr.isFormData(n))if(Br.hasStandardBrowserEnv||Br.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(lr.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&i.set(e,n)})}if(Br.hasStandardBrowserEnv&&(r&&lr.isFunction(r)&&(r=r(t)),r||!1!==r&&ba(t.url))){const e=a&&o&&wa.read(o);e&&i.set(a,e)}return t};const La="undefined"!==typeof XMLHttpRequest;var Ca=La&&function(e){return new Promise(function(t,n){const r=Ta(e);let a=r.data;const o=oa.from(r.headers).normalize();let i,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=oa.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),a=d&&"text"!==d&&"json"!==d?m.response:m.responseText,o={data:a,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};ua(function(e){t(e),p()},function(e){n(e),p()},o),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new hr("Request aborted",hr.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new hr(r,hr.ERR_NETWORK,e,m);a.event=t||null,n(a),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||xr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new hr(t,a.clarifyTimeoutError?hr.ETIMEDOUT:hr.ECONNABORTED,e,m)),m=null},void 0===a&&o.setContentType(null),"setRequestHeader"in m&&lr.forEach(o.toJSON(),function(e,t){m.setRequestHeader(t,e)}),lr.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=ga(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([s,c]=ga(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new ca(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const v=da(r.url);v&&-1===Br.protocols.indexOf(v)?n(new hr("Unsupported protocol "+v+":",hr.ERR_BAD_REQUEST,e)):m.send(a||null)})};const xa=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof hr?t:new ca(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,a(new hr(`timeout ${t} of ms exceeded`,hr.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:s}=r;return s.unsubscribe=()=>lr.asap(i),s}};var Oa=xa;const Da=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;while(a<n)r=a+t,yield e.slice(a,r),a=r},_a=async function*(e,t){for await(const n of Ia(e))yield*Da(n,t)},Ia=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Pa=(e,t,n,r)=>{const a=_a(e,t);let o,i=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=i+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel(e){return s(e),a.return()}},{highWaterMark:2})},Ma=65536,{isFunction:Ua}=lr,$a=(({Request:e,Response:t})=>({Request:e,Response:t}))(lr.global),{ReadableStream:Na,TextEncoder:Ba}=lr.global,Fa=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},Xa=e=>{e=lr.merge.call({skipUndefined:!0},$a,e);const{fetch:t,Request:n,Response:r}=e,a=t?Ua(t):"function"===typeof fetch,o=Ua(n),i=Ua(r);if(!a)return!1;const s=a&&Ua(Na),l=a&&("function"===typeof Ba?(e=>t=>e.encode(t))(new Ba):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=o&&s&&Fa(()=>{let e=!1;const t=new n(Br.origin,{body:new Na,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&s&&Fa(()=>lr.isReadableStream(new r("").body)),d={stream:u&&(e=>e.body)};a&&(()=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new hr(`Response type '${e}' is not supported`,hr.ERR_NOT_SUPPORT,n)})})})();const h=async e=>{if(null==e)return 0;if(lr.isBlob(e))return e.size;if(lr.isSpecCompliantForm(e)){const t=new n(Br.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return lr.isArrayBufferView(e)||lr.isArrayBuffer(e)?e.byteLength:(lr.isURLSearchParams(e)&&(e+=""),lr.isString(e)?(await l(e)).byteLength:void 0)},f=async(e,t)=>{const n=lr.toFiniteNumber(e.getContentLength());return null==n?h(t):n};return async e=>{let{url:a,method:i,data:s,signal:l,cancelToken:h,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:v,headers:y,withCredentials:b="same-origin",fetchOptions:w}=Ta(e),E=t||fetch;v=v?(v+"").toLowerCase():"text";let A=Oa([l,h&&h.toAbortSignal()],p),k=null;const S=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let R;try{if(g&&c&&"get"!==i&&"head"!==i&&0!==(R=await f(y,s))){let e,t=new n(a,{method:"POST",body:s,duplex:"half"});if(lr.isFormData(s)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=va(R,ga(ya(g)));s=Pa(t.body,Ma,e,n)}}lr.isString(b)||(b=b?"include":"omit");const t=o&&"credentials"in n.prototype,l={...w,signal:A,method:i.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:t?b:void 0};k=o&&new n(a,l);let h=await(o?E(k,w):E(a,l));const p=u&&("stream"===v||"response"===v);if(u&&(m||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=h[t]});const t=lr.toFiniteNumber(h.headers.get("content-length")),[n,a]=m&&va(t,ga(ya(m),!0))||[];h=new r(Pa(h.body,Ma,n,()=>{a&&a(),S&&S()}),e)}v=v||"text";let T=await d[lr.findKey(d,v)||"text"](h,e);return!p&&S&&S(),await new Promise((t,n)=>{ua(t,n,{data:T,headers:oa.from(h.headers),status:h.status,statusText:h.statusText,config:e,request:k})})}catch(T){if(S&&S(),T&&"TypeError"===T.name&&/Load failed|fetch/i.test(T.message))throw Object.assign(new hr("Network Error",hr.ERR_NETWORK,e,k),{cause:T.cause||T});throw hr.from(T,T&&T.code,e,k)}}},ja=new Map,Va=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,o=[r,a,n];let i,s,l=o.length,c=l,u=ja;while(c--)i=o[c],s=u.get(i),void 0===s&&u.set(i,s=c?new Map:Xa(t)),u=s;return s};Va();const Ya={http:fr,xhr:Ca,fetch:{get:Va}};lr.forEach(Ya,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const za=e=>`- ${e}`,qa=e=>lr.isFunction(e)||null===e||!1===e;var Ka={getAdapter:(e,t)=>{e=lr.isArray(e)?e:[e];const{length:n}=e;let r,a;const o={};for(let i=0;i<n;i++){let n;if(r=e[i],a=r,!qa(r)&&(a=Ya[(n=String(r)).toLowerCase()],void 0===a))throw new hr(`Unknown adapter '${n}'`);if(a&&(lr.isFunction(a)||(a=a.get(t))))break;o[n||"#"+i]=a}if(!a){const e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let t=n?e.length>1?"since :\n"+e.map(za).join("\n"):" "+za(e[0]):"as no adapter specified";throw new hr("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:Ya};function Wa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ca(null,e)}function Qa(e){Wa(e),e.headers=oa.from(e.headers),e.data=ia.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=Ka.getAdapter(e.adapter||Kr.adapter,e);return t(e).then(function(t){return Wa(e),t.data=ia.call(e,e.transformResponse,t),t.headers=oa.from(t.headers),t},function(t){return sa(t)||(Wa(e),t&&t.response&&(t.response.data=ia.call(e,e.transformResponse,t.response),t.response.headers=oa.from(t.response.headers))),Promise.reject(t)})}const Ha="1.12.2",Ja={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ja[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ga={};function Za(e,t,n){if("object"!==typeof e)throw new hr("options must be an object",hr.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;while(a-- >0){const o=r[a],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new hr("option "+o+" must be "+n,hr.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new hr("Unknown option "+o,hr.ERR_BAD_OPTION)}}Ja.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Ha+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,o)=>{if(!1===e)throw new hr(r(a," has been removed"+(t?" in "+t:"")),hr.ERR_DEPRECATED);return t&&!Ga[a]&&(Ga[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},Ja.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};var eo={assertOptions:Za,validators:Ja};const to=eo.validators;class no{constructor(e){this.defaults=e||{},this.interceptors={request:new Cr,response:new Cr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=Ra(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&eo.assertOptions(n,{silentJSONParsing:to.transitional(to.boolean),forcedJSONParsing:to.transitional(to.boolean),clarifyTimeoutError:to.transitional(to.boolean)},!1),null!=r&&(lr.isFunction(r)?t.paramsSerializer={serialize:r}:eo.assertOptions(r,{encode:to.function,serialize:to.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),eo.assertOptions(t,{baseUrl:to.spelling("baseURL"),withXsrfToken:to.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&lr.merge(a.common,a[t.method]);a&&lr.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=oa.concat(o,a);const i=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[Qa.bind(this),void 0];e.unshift(...i),e.push(...l),u=e.length,c=Promise.resolve(t);while(d<u)c=c.then(e[d++],e[d++]);return c}u=i.length;let h=t;while(d<u){const e=i[d++],t=i[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Qa.call(this,h)}catch(f){return Promise.reject(f)}d=0,u=l.length;while(d<u)c=c.then(l[d++],l[d++]);return c}getUri(e){e=Ra(this.defaults,e);const t=ka(e.baseURL,e.url,e.allowAbsoluteUrls);return Tr(t,e.params,e.paramsSerializer)}}lr.forEach(["delete","get","head","options"],function(e){no.prototype[e]=function(t,n){return this.request(Ra(n||{},{method:e,url:t,data:(n||{}).data}))}}),lr.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Ra(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}no.prototype[e]=t(),no.prototype[e+"Form"]=t(!0)});var ro=no;class ao{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;while(t-- >0)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new ca(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ao(function(t){e=t});return{token:t,cancel:e}}}var oo=ao;function io(e){return function(t){return e.apply(null,t)}}function so(e){return lr.isObject(e)&&!0===e.isAxiosError}const lo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lo).forEach(([e,t])=>{lo[t]=e});var co=lo;function uo(e){const t=new ro(e),n=Zt(ro.prototype.request,t);return lr.extend(n,ro.prototype,t,{allOwnKeys:!0}),lr.extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return uo(Ra(e,t))},n}const ho=uo(Kr);ho.Axios=ro,ho.CanceledError=ca,ho.CancelToken=oo,ho.isCancel=sa,ho.VERSION=Ha,ho.toFormData=wr,ho.AxiosError=hr,ho.Cancel=ho.CanceledError,ho.all=function(e){return Promise.all(e)},ho.spread=io,ho.isAxiosError=so,ho.mergeConfig=Ra,ho.AxiosHeaders=oa,ho.formToJSON=e=>Yr(lr.isHTMLForm(e)?new FormData(e):e),ho.getAdapter=Ka.getAdapter,ho.HttpStatusCode=co,ho.default=ho;var fo=ho,po=n(2169);const mo={baseURL:po.A.API_BASE_URL,timeout:1e4},go=fo.create(mo);go.interceptors.request.use(e=>e,e=>Promise.reject(e)),go.interceptors.response.use(e=>e,e=>(console.error("API请求错误:",e),Promise.reject(e)));const vo=async()=>{try{const e=await go.get("/api/Events");return e.data}catch(e){return{success:!1,data:null,message:e.response?.data?.message||"获取事件列表失败"}}},yo=async e=>{try{const t=await go.get(`/api/Events/${e}`);return t.data}catch(t){return 404===t.response?.status?{success:!1,data:null,message:"事件不存在"}:{success:!1,data:null,message:t.response?.data?.message||"获取事件详情失败"}}},bo=async e=>{try{const t=await go.post("/api/Events",e);return t.data}catch(t){return{success:!1,data:null,message:t.response?.data?.message||"创建事件失败"}}},wo=async(e,t)=>{try{const n=await go.post(`/api/Events/update/${e}`,t);return n.data}catch(n){return 404===n.response?.status?{success:!1,data:null,message:"事件不存在"}:{success:!1,data:null,message:n.response?.data?.message||"更新事件失败"}}},Eo=async e=>{try{const t=await go.post(`/api/Events/delete/${e}`);return t.data}catch(t){return 404===t.response?.status?{success:!1,data:null,message:"事件不存在"}:{success:!1,data:null,message:t.response?.data?.message||"删除事件失败"}}},Ao=async e=>{try{const t=new FormData;e.forEach(e=>{t.append("files",e)});const n=await go.post("/api/Files/upload-multiple",t,{headers:{"Content-Type":"multipart/form-data"}});return n.data}catch(t){return{success:!1,data:null,message:t.response?.data?.message||"批量上传失败"}}},ko=(e,t,n)=>{n||(n=!1);const r=po.A.API_BASE_URL;return`${r}/api/Files/download?id=${encodeURIComponent(e)}&fileName=${encodeURIComponent(t)}&thumbnail=${n}`},So=(e,t)=>{const n=po.A.API_BASE_URL;return`${n}/api/Files/downloadVideo?id=${encodeURIComponent(e)}&fileName=${encodeURIComponent(t)}`},Ro=async()=>{try{const e=await vo();if(!e.success)return{success:!1,data:null,message:"获取统计数据失败"};const t=e.data.flatMap(e=>e.events),n=t.length,r=t.reduce((e,t)=>e+(t.media?.images?.length||0),0),a=t.reduce((e,t)=>e+(t.media?.videos?.length||0),0),o=t.reduce((e,t)=>e+(t.media?.audios?.length||0),0);return{success:!0,data:{totalEvents:n,totalPhotos:r,totalVideos:a,totalAudios:o},message:"获取统计数据成功"}}catch(e){return{success:!1,data:null,message:"获取统计数据失败"}}},To={key:0,class:"loading-placeholder"},Lo={key:1,class:"error-placeholder"},Co=["src","alt"];function xo(e,t,n,r,o,i){return(0,a.uX)(),(0,a.CE)("div",{class:(0,ut.C4)(["lazy-image-container",{loaded:r.imageLoaded,error:r.imageError,small:n.small}]),ref:"containerRef"},[r.imageLoaded||r.imageError?r.imageError?((0,a.uX)(),(0,a.CE)("div",Lo,[t[4]||(t[4]=(0,a.Lk)("span",{class:"error-icon"},"📷",-1)),t[5]||(t[5]=(0,a.Lk)("span",{class:"error-text"},"加载失败",-1)),r.retryCount<r.maxRetries?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"retry-button",onClick:t[0]||(t[0]=(...e)=>r.retryLoad&&r.retryLoad(...e))},"重试")):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",To,[...t[3]||(t[3]=[(0,a.Lk)("div",{class:"loading-spinner"},null,-1),(0,a.Lk)("span",{class:"loading-text"},"加载中...",-1)])])),r.shouldLoad?((0,a.uX)(),(0,a.CE)("img",{key:2,src:r.optimizedSrc,alt:n.alt,onLoad:t[1]||(t[1]=(...e)=>r.onImageLoad&&r.onImageLoad(...e)),onError:t[2]||(t[2]=(...e)=>r.onImageError&&r.onImageError(...e)),class:"lazy-image",style:(0,ut.Tr)({opacity:r.imageLoaded?1:0}),loading:"lazy"},null,44,Co)):(0,a.Q3)("",!0)],2)}class Oo{constructor(){this.loadingStats={totalImages:0,loadedImages:0,failedImages:0,averageLoadTime:0,loadTimes:[]},this.loadingEvents=[],this.isEnabled=!1}startMonitoring(e){if(!this.isEnabled)return null;const t=performance.now(),n=`${e}-${t}`;return this.loadingEvents.push({id:n,src:e,startTime:t,endTime:null,success:null}),this.loadingStats.totalImages++,n}endMonitoring(e,t=!0){if(!this.isEnabled||!e)return;const n=this.loadingEvents.find(t=>t.id===e);if(!n)return;const r=performance.now(),a=r-n.startTime;n.endTime=r,n.success=t,t?(this.loadingStats.loadedImages++,this.loadingStats.loadTimes.push(a),this.updateAverageLoadTime()):this.loadingStats.failedImages++,this.isEnabled&&console.debug(`图片加载${t?"成功":"失败"}:`,{src:n.src,loadTime:`${a.toFixed(2)}ms`,stats:this.getStats()})}updateAverageLoadTime(){if(this.loadingStats.loadTimes.length>0){const e=this.loadingStats.loadTimes.reduce((e,t)=>e+t,0);this.loadingStats.averageLoadTime=e/this.loadingStats.loadTimes.length}}getStats(){const e=this.loadingStats.totalImages>0?(this.loadingStats.loadedImages/this.loadingStats.totalImages*100).toFixed(1):0;return{...this.loadingStats,successRate:`${e}%`,averageLoadTime:`${this.loadingStats.averageLoadTime.toFixed(2)}ms`}}getPerformanceRecommendations(){const e=this.getStats(),t=[];parseFloat(e.successRate)<90&&t.push("图片加载成功率较低，请检查网络连接或图片URL"),this.loadingStats.averageLoadTime>2e3&&t.push("图片加载时间较长，建议优化图片尺寸或使用CDN"),this.loadingStats.failedImages>5&&t.push("失败的图片数量较多，请检查图片资源的可用性");const n=this.loadingEvents.filter(e=>e.success&&e.endTime-e.startTime>3e3);return n.length>0&&t.push(`发现${n.length}张加载较慢的图片，建议优化这些图片`),t}reset(){this.loadingStats={totalImages:0,loadedImages:0,failedImages:0,averageLoadTime:0,loadTimes:[]},this.loadingEvents=[]}exportReport(){return{timestamp:(new Date).toISOString(),stats:this.getStats(),recommendations:this.getPerformanceRecommendations(),events:this.loadingEvents.slice(-20)}}}const Do=new Oo;class _o{constructor(){this.networkSpeed="fast",this.deviceType=this.detectDeviceType(),this.connectionType=this.detectConnectionType()}detectDeviceType(){const e=navigator.userAgent.toLowerCase();return/mobile|android|iphone|ipad|tablet/.test(e)?"mobile":"desktop"}detectConnectionType(){if("connection"in navigator){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e){const t=e.effectiveType;switch(t){case"slow-2g":case"2g":return"slow";case"3g":return"medium";case"4g":default:return"fast"}}}return"fast"}getRecommendedQuality(){return"slow"===this.connectionType||"mobile"===this.deviceType?"low":"medium"===this.connectionType?"medium":"high"}getLoadingStrategy(){const e=this.getRecommendedQuality();return{quality:e,threshold:"low"===e?100:"medium"===e?200:300,preloadCount:"low"===e?3:"medium"===e?6:10,enablePreload:"low"!==e}}}const Io=new _o;class Po{constructor(){this.supportedFormats=new Map,this.checkFormats()}async checkFormats(){const e=[{name:"webp",data:"data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"},{name:"avif",data:"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgABogQEAwgMg8f8D///8WfhwB8+ErK42A="},{name:"jpeg2000",data:"data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB"}];for(const n of e)try{const e=await this.testFormat(n.data);this.supportedFormats.set(n.name,e)}catch(t){this.supportedFormats.set(n.name,!1)}}testFormat(e){return new Promise(t=>{const n=new Image;n.onload=()=>t(1===n.width&&1===n.height),n.onerror=()=>t(!1),n.src=e})}getBestFormat(e){const t=new URL(e,window.location.origin),n=t.pathname.toLowerCase();return n.includes(".webp")||n.includes(".avif")?e:this.supportedFormats.get("avif")?this.convertUrlFormat(e,"avif"):this.supportedFormats.get("webp")?this.convertUrlFormat(e,"webp"):e}convertUrlFormat(e,t){const n=new URL(e,window.location.origin);return n.searchParams.set("format",t),n.toString()}supports(e){return this.supportedFormats.get(e)||!1}}const Mo=new Po;class Uo{constructor(){this.breakpoints={xs:480,sm:768,md:1024,lg:1200,xl:1440}}getCurrentBreakpoint(){const e=window.innerWidth;return e<this.breakpoints.xs?"xs":e<this.breakpoints.sm?"sm":e<this.breakpoints.md?"md":e<this.breakpoints.lg?"lg":"xl"}getSuggestedSize(e,t){const n=window.devicePixelRatio||1,r=this.getCurrentBreakpoint();let a=1;switch(r){case"xs":a=.8;break;case"sm":a=.9;break;case"md":a=1;break;case"lg":a=1.1;break;case"xl":a=1.2;break}return{width:Math.ceil(e*n*a),height:Math.ceil(t*n*a),dpr:n,breakpoint:r}}generateSrcSet(e,t=[1,1.5,2,3]){return t.map(t=>{const n=this.addSizeParams(e,t);return`${n} ${t}x`}).join(", ")}addSizeParams(e,t=1){const n=new URL(e,window.location.origin);return n.searchParams.set("scale",t.toString()),n.toString()}}new Uo;class $o{constructor(){this.qualitySettings={high:{quality:90,maxWidth:2048,maxHeight:2048},medium:{quality:75,maxWidth:1024,maxHeight:1024},low:{quality:60,maxWidth:512,maxHeight:512}}}getRecommendedQuality(){if("connection"in navigator){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(e)switch(e.effectiveType){case"slow-2g":case"2g":return"low";case"3g":return"medium";case"4g":default:return"high"}}const e=/Mobi|Android/i.test(navigator.userAgent);return e?"medium":"high"}applyQualityToUrl(e,t=null){t||(t=this.getRecommendedQuality());const n=this.qualitySettings[t];if(!n)return e;const r=new URL(e,window.location.origin);return r.searchParams.set("q",n.quality.toString()),r.searchParams.set("maxw",n.maxWidth.toString()),r.searchParams.set("maxh",n.maxHeight.toString()),r.toString()}}const No=new $o,Bo=(e,t={})=>{let n=e;if(!1!==t.formatOptimization&&(n=Mo.getBestFormat(n)),(t.quality||!1!==t.qualityOptimization)&&(n=No.applyQualityToUrl(n,t.quality)),t.width&&t.height){const e=new URL(n,window.location.origin);e.searchParams.set("w",t.width.toString()),e.searchParams.set("h",t.height.toString()),n=e.toString()}return n};var Fo={name:"LazyImage",props:{src:{type:String,required:!0},alt:{type:String,default:""},small:{type:Boolean,default:!1},threshold:{type:Number,default:200},preload:{type:Boolean,default:!1},priority:{type:String,default:"normal",validator:e=>["high","normal","low"].includes(e)}},setup(e){const t=(0,o.KR)(null),n=(0,o.KR)(!1),r=(0,o.KR)(!1),i=(0,o.KR)(!1),s=(0,o.KR)(0),l=2,c=(0,o.KR)(e.src);let u=null,d=null;const h=(0,a.EW)(()=>{const t={quality:"low"===e.priority?"low":"high"===e.priority?"high":"medium",formatOptimization:!0,qualityOptimization:!0};return Bo(c.value,t)}),f=()=>{window.IntersectionObserver?(u=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting||t.intersectionRatio>0){const r="high"===e.priority?0:"normal"===e.priority?100:300;setTimeout(()=>{n.value=!0,d=Do.startMonitoring(e.src)},r),u&&(u.unobserve(t.target),u=null)}})},{rootMargin:`${e.threshold}px`,threshold:.01}),t.value&&u.observe(t.value)):n.value=!0},p=()=>{r.value=!0,i.value=!1,d&&Do.endMonitoring(d,!0)},m=()=>{s.value++,s.value<=l?setTimeout(()=>{c.value=`${e.src}?retry=${s.value}&t=${Date.now()}`},1e3*s.value):(r.value=!1,i.value=!0,d&&Do.endMonitoring(d,!1))};(0,a.sV)(()=>{e.preload?(n.value=!0,d=Do.startMonitoring(e.src)):f()}),(0,a.hi)(()=>{u&&u.disconnect()});const g=()=>{i.value=!1,r.value=!1,d=Do.startMonitoring(e.src),c.value=`${e.src}?retry=${s.value}&t=${Date.now()}`};return{containerRef:t,shouldLoad:n,imageLoaded:r,imageError:i,retryCount:s,maxRetries:l,currentSrc:c,optimizedSrc:h,onImageLoad:p,onImageError:m,retryLoad:g}}},Xo=n(1241);const jo=(0,Xo.A)(Fo,[["render",xo],["__scopeId","data-v-58edb738"]]);var Vo=jo;const Yo={key:0,class:"performance-panel"},zo={class:"panel-header"},qo={class:"panel-content"},Ko={class:"stat-row"},Wo={class:"stat-row"},Qo={class:"stat-row"},Ho={class:"stat-row"},Jo={class:"stat-row"},Go={key:0,class:"recommendations"};function Zo(e,t,n,r,o,i){return(0,a.uX)(),(0,a.CE)(a.FK,null,[r.showPanel?((0,a.uX)(),(0,a.CE)("div",Yo,[(0,a.Lk)("div",zo,[t[2]||(t[2]=(0,a.Lk)("h4",null,"图片加载性能",-1)),(0,a.Lk)("button",{class:"close-btn",onClick:t[0]||(t[0]=(...e)=>r.closePanel&&r.closePanel(...e))},"×")]),(0,a.Lk)("div",qo,[(0,a.Lk)("div",Ko,[t[3]||(t[3]=(0,a.Lk)("span",null,"总计:",-1)),(0,a.Lk)("span",null,(0,ut.v_)(r.stats.totalImages),1)]),(0,a.Lk)("div",Wo,[t[4]||(t[4]=(0,a.Lk)("span",null,"成功:",-1)),(0,a.Lk)("span",null,(0,ut.v_)(r.stats.loadedImages),1)]),(0,a.Lk)("div",Qo,[t[5]||(t[5]=(0,a.Lk)("span",null,"失败:",-1)),(0,a.Lk)("span",null,(0,ut.v_)(r.stats.failedImages),1)]),(0,a.Lk)("div",Ho,[t[6]||(t[6]=(0,a.Lk)("span",null,"成功率:",-1)),(0,a.Lk)("span",null,(0,ut.v_)(r.stats.successRate),1)]),(0,a.Lk)("div",Jo,[t[7]||(t[7]=(0,a.Lk)("span",null,"平均耗时:",-1)),(0,a.Lk)("span",null,(0,ut.v_)(r.stats.averageLoadTime),1)]),r.recommendations.length>0?((0,a.uX)(),(0,a.CE)("div",Go,[t[8]||(t[8]=(0,a.Lk)("h5",null,"建议:",-1)),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.recommendations,(e,t)=>((0,a.uX)(),(0,a.CE)("li",{key:t},(0,ut.v_)(e),1))),128))])])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0),r.isDevelopment&&!r.showPanel?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"performance-toggle",onClick:t[1]||(t[1]=(...e)=>r.togglePanel&&r.togglePanel(...e))}," 📊 ")):(0,a.Q3)("",!0)],64)}var ei={name:"PerformancePanel",setup(){const e=(0,o.KR)(!1),t=(0,o.KR)({}),n=(0,o.KR)([]),r=!1;let i=null;const s=()=>{e.value=!e.value,e.value?(c(),u()):d()},l=()=>{e.value=!1,d()},c=()=>{t.value=Do.getStats(),n.value=Do.getPerformanceRecommendations()},u=()=>{i=setInterval(c,2e3)},d=()=>{i&&(clearInterval(i),i=null)};return(0,a.sV)(()=>{r&&c()}),(0,a.hi)(()=>{d()}),{showPanel:e,stats:t,recommendations:n,isDevelopment:r,togglePanel:s,closePanel:l}}};const ti=(0,Xo.A)(ei,[["render",Zo],["__scopeId","data-v-393cda0c"]]);var ni=ti;class ri{constructor(){this.cache=new Map,this.loadingQueue=new Set,this.maxCacheSize=50}preloadImage(e){return new Promise((t,n)=>{if(this.cache.has(e))return void t(this.cache.get(e));if(this.loadingQueue.has(e)){const r=()=>{this.cache.has(e)?t(this.cache.get(e)):this.loadingQueue.has(e)?setTimeout(r,100):n(new Error("Image load failed"))};return void r()}this.loadingQueue.add(e);const r=new Image;r.onload=()=>{this.loadingQueue.delete(e),this.addToCache(e,r),t(r)},r.onerror=()=>{this.loadingQueue.delete(e),n(new Error("Image load failed"))},r.src=e})}addToCache(e,t){if(this.cache.size>=this.maxCacheSize){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}isCached(e){return this.cache.has(e)}clearCache(){this.cache.clear(),this.loadingQueue.clear()}getCacheStats(){return{cacheSize:this.cache.size,loadingCount:this.loadingQueue.size,maxCacheSize:this.maxCacheSize}}}const ai=new ri,oi=(e,t=10,n)=>{if(!n)return void console.warn("getMediaUrl函数未提供，跳过图片预加载");const r=[];e.slice(0,Math.ceil(t/2)).forEach(e=>{if(e.media?.images?.length>0){const t=e.media.images[0];t?.fileName&&r.push({src:n(e.id,t.fileName,!0),priority:"high"})}}),e.forEach(e=>{e.media?.images?.length>1&&e.media.images.slice(1,3).forEach(a=>{a?.fileName&&r.length<t&&r.push({src:n(e.id,a.fileName,!0),priority:"low"})})});const a=r.filter(e=>"high"===e.priority),o=r.filter(e=>"low"===e.priority);a.forEach(e=>{ai.preloadImage(e.src).catch(t=>{console.warn("预加载图片失败:",e.src,t)})}),setTimeout(()=>{o.forEach(e=>{ai.preloadImage(e.src).catch(t=>{console.warn("预加载图片失败:",e.src,t)})})},1e3)};var ii={name:"HomePage",components:{LazyImage:Vo,PerformancePanel:ni},setup(){const e=lt(),t=ct(),n=(0,o.KR)(Gt()("2025-05-09")),r=(0,a.EW)(()=>{const e=Gt()(),t=n.value;if(e.isBefore(t))return"即将出生";const r=e.diff(t,"month");if(r<12){const n=t.add(r,"month"),a=e.diff(n,"day");if(0===r){const n=e.diff(t,"day");return`${n}天`}return`${r}个月${a>0?` ${a}天`:""}`}{const e=Math.floor(r/12),t=r%12;return`${e}岁${t>0?` ${t}个月`:""}`}}),i=()=>{try{const e=localStorage.getItem("baby-log-sort-ascending");return null!==e&&JSON.parse(e)}catch(u){return console.warn("获取排序偏好失败:",u),!1}},s=e=>{try{localStorage.setItem("baby-log-sort-ascending",JSON.stringify(e))}catch(u){console.warn("保存排序偏好失败:",u)}},l=(0,o.KR)([]),c=(0,o.KR)(!0),u=(0,o.KR)(""),d=(0,o.KR)(i()),h=(0,o.KR)({totalEvents:0,totalPhotos:0,totalVideos:0,totalAudios:0}),f=Io.getLoadingStrategy(),p=async()=>{try{c.value=!0,u.value="";const e=await vo();if(e.success){l.value=e.data;const t=e.data.flatMap(e=>e.events);t.length>0&&f.enablePreload&&oi(t,f.preloadCount,ko)}else u.value=e.message||"获取事件列表失败"}catch(e){u.value="网络错误，请稍后重试",console.error("加载事件列表失败:",e)}finally{c.value=!1}},m=async()=>{try{const e=await Ro();e.success&&(h.value=e.data)}catch(e){console.error("加载统计数据失败:",e)}},g=(0,a.EW)(()=>h.value.totalEvents),v=(0,a.EW)(()=>h.value.totalPhotos),y=(0,a.EW)(()=>h.value.totalVideos),b=(0,a.EW)(()=>h.value.totalAudios),w=(0,a.EW)(()=>{if(!l.value||0===l.value.length)return[];const e=[...l.value];return d.value?e.sort((e,t)=>{const n=new Date(e.events[0]?.date||"1970-01-01"),r=new Date(t.events[0]?.date||"1970-01-01");return n-r}):e.sort((e,t)=>{const n=new Date(e.events[0]?.date||"1970-01-01"),r=new Date(t.events[0]?.date||"1970-01-01");return r-n})}),E=t=>{console.log("查看事件:",t),e.push(`/event/${t.id}`)},A=()=>{console.log("添加新事件"),e.push("/add")},k=()=>{console.log("排序方式改变:",d.value?"正序":"倒序"),s(d.value)},S=(e,t)=>e<2&&0===t,R=(e,t)=>e<3&&0===t?"high":e<6?"normal":"low",T=e=>{const t=[];return e.media.images&&e.media.images.length>0&&e.media.images.forEach(e=>{t.push({...e,type:"image"})}),e.media.videos&&e.media.videos.length>0&&e.media.videos.forEach(e=>{t.push({...e,type:"video"})}),t},L=async e=>{await(0,a.dY)();const t=document.querySelector(`[data-event-id="${e}"]`);t?t.scrollIntoView({behavior:"smooth",block:"center"}):console.warn("未找到指定的事件卡片:",e)},C=()=>{if(l.value&&l.value.length>0){const e=l.value.flatMap(e=>e.events);if(e.length>0){const t=e.sort((e,t)=>new Date(t.date)-new Date(e.date))[0];return t.id}}return null},x=e=>{if(!l.value||0===l.value.length)return null;const t=l.value.flatMap(e=>e.events);if(0===t.length)return null;const n=parseInt(e,10);if(isNaN(n))return C();let r=t[0],a=Math.abs(parseInt(r.id,10)-n);for(const o of t){const e=parseInt(o.id,10);if(!isNaN(e)){const t=Math.abs(e-n);t<a&&(a=t,r=o)}}return r.id};return(0,a.sV)(async()=>{await Promise.all([p(),m()]);const e=t.query.highlight;if(e){const t=l.value.flatMap(e=>e.events),n=t.find(t=>String(t.id)===String(e));if(n)L(e);else{const t=x(e);t&&L(t)}}}),{currentAge:r,timelinePeriods:l,sortedTimelinePeriods:w,sortAscending:d,totalEvents:g,totalPhotos:v,totalVideos:y,totalAudios:b,loading:c,error:u,viewEvent:E,addEvent:A,loadEventsList:p,onSortChange:k,getSortPreference:i,saveSortPreference:s,getMediaUrl:ko,scrollToEvent:L,findLatestEventId:C,findClosestEventId:x,shouldPreloadImage:S,getImagePriority:R,getAllMediaItems:T,loadingStrategy:f}}};const si=(0,Xo.A)(ii,[["render",Ht],["__scopeId","data-v-bf0b8900"]]);var li=si;const ci={class:"event-detail"},ui={class:"detail-header"},di={key:0,class:"loading"},hi={key:1,class:"error-container"},fi={key:2,class:"event-container"},pi={class:"event-header"},mi={class:"event-title"},gi={class:"event-meta-info"},vi={class:"event-date"},yi={class:"event-age"},bi={key:0,class:"photos-section"},wi={class:"section-title"},Ei={class:"photos-grid"},Ai=["onClick"],ki={key:0,class:"photo-icon"},Si={class:"photo-index"},Ri={class:"media-desc"},Ti={key:1,class:"videos-section"},Li={class:"section-title"},Ci={class:"videos-grid"},xi=["onClick"],Oi={key:0,class:"video-icon"},Di={class:"video-overlay"},_i={key:0,class:"video-duration"},Ii={class:"media-desc"},Pi={key:2,class:"audio-section"},Mi={class:"section-title"},Ui={class:"audio-list"},$i={class:"audio-player"},Ni=["onClick"],Bi={key:0},Fi={key:1},Xi={key:2},ji={class:"audio-info"},Vi={class:"audio-desc"},Yi={key:0,class:"audio-progress"},zi={class:"progress-bar"},qi={class:"time-display"},Ki={key:0,class:"audio-controls"},Wi=["src"],Qi={class:"description-section"},Hi={class:"event-description"},Ji={class:"additional-info"},Gi={key:0,class:"info-item"},Zi={class:"info-value"},es={class:"info-item"},ts={class:"info-value"},ns={class:"action-buttons"},rs={class:"zoom-controls desktop-only"},as=["disabled"],os={class:"zoom-level"},is=["disabled"],ss={class:"photo-viewer"},ls={class:"current-photo"},cs={key:0,class:"photo-icon"},us={class:"photo-counter"},ds={class:"swipe-hint"},hs={key:0,class:"hint-text"},fs={key:1,class:"hint-text"},ps={class:"video-player"},ms=["src"],gs={class:"video-info"},vs={class:"video-title"},ys={class:"video-controls"},bs={class:"video-counter"};function ws(e,t,n,r,o,i){return(0,a.uX)(),(0,a.CE)("div",ci,[(0,a.Lk)("header",ui,[(0,a.Lk)("button",{class:"back-btn",onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e))}," ← 返回 "),t[30]||(t[30]=(0,a.Lk)("h1",{class:"page-title"},"事件详情",-1))]),r.loading?((0,a.uX)(),(0,a.CE)("div",di,[...t[31]||(t[31]=[(0,a.Lk)("div",{class:"loading-spinner"},"⏳",-1),(0,a.Lk)("p",null,"正在加载事件详情...",-1)])])):r.error?((0,a.uX)(),(0,a.CE)("div",hi,[t[32]||(t[32]=(0,a.Lk)("div",{class:"error-icon"},"⚠️",-1)),(0,a.Lk)("p",null,(0,ut.v_)(r.error),1),(0,a.Lk)("button",{class:"retry-btn",onClick:t[1]||(t[1]=(...e)=>r.loadEventDetail&&r.loadEventDetail(...e))},"重试")])):r.event?((0,a.uX)(),(0,a.CE)("div",fi,[(0,a.Lk)("div",pi,[(0,a.Lk)("h2",mi,(0,ut.v_)(r.event.title),1),(0,a.Lk)("div",gi,[(0,a.Lk)("span",vi,(0,ut.v_)(r.formatDate(r.event.date)),1),(0,a.Lk)("span",yi,(0,ut.v_)(r.getAgeAtEvent(r.event.date)),1)])]),r.event.media.images&&r.event.media.images.length>0?((0,a.uX)(),(0,a.CE)("div",bi,[(0,a.Lk)("h3",wi,"照片 ("+(0,ut.v_)(r.event.media.images.length)+"张)",1),(0,a.Lk)("div",Ei,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.event.media.images,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"photo-item",onClick:e=>r.openPhotoViewer(t)},[(0,a.Lk)("div",{class:"photo-placeholder",style:(0,ut.Tr)({backgroundImage:`url(${r.getMediaUrl(r.event.id,e.fileName,!0)})`})},[e.fileName?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",ki,"📷")),(0,a.Lk)("span",Si,(0,ut.v_)(t+1),1)],4),(0,a.Lk)("p",Ri,(0,ut.v_)(e.desc),1)],8,Ai))),128))])])):(0,a.Q3)("",!0),r.event.media.videos&&r.event.media.videos.length>0?((0,a.uX)(),(0,a.CE)("div",Ti,[(0,a.Lk)("h3",Li,"视频 ("+(0,ut.v_)(r.event.media.videos.length)+"个)",1),(0,a.Lk)("div",Ci,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.event.media.videos,(e,n)=>((0,a.uX)(),(0,a.CE)("div",{key:n,class:"video-item"},[(0,a.Lk)("div",{class:"video-container",onClick:t=>r.openVideoPlayer(e,n)},[(0,a.Lk)("div",{class:"video-preview",style:(0,ut.Tr)({backgroundImage:`url(${r.getMediaUrl(r.event.id,e.fileName,!0)})`})},[e.fileName?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",Oi,"🎬"))],4),(0,a.Lk)("div",Di,[t[33]||(t[33]=(0,a.Lk)("span",{class:"play-overlay"},"▶️",-1)),e.duration?((0,a.uX)(),(0,a.CE)("span",_i,(0,ut.v_)(r.formatDuration(e.duration)),1)):(0,a.Q3)("",!0)])],8,xi),(0,a.Lk)("p",Ii,(0,ut.v_)(e.desc),1)]))),128))])])):(0,a.Q3)("",!0),r.event.media.audios&&r.event.media.audios.length>0?((0,a.uX)(),(0,a.CE)("div",Pi,[(0,a.Lk)("h3",Mi,"录音 ("+(0,ut.v_)(r.event.media.audios.length)+"段)",1),(0,a.Lk)("div",Ui,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.event.media.audios,(e,n)=>((0,a.uX)(),(0,a.CE)("div",{key:n,class:"audio-item"},[(0,a.Lk)("div",$i,[(0,a.Lk)("button",{class:"play-btn",onClick:t=>r.toggleAudio(e,n)},[r.currentPlayingAudio===n&&r.isAudioPlaying?((0,a.uX)(),(0,a.CE)("span",Bi,"⏸️")):r.currentPlayingAudio===n&&r.isAudioLoading?((0,a.uX)(),(0,a.CE)("span",Fi,"⏳")):((0,a.uX)(),(0,a.CE)("span",Xi,"▶️"))],8,Ni),(0,a.Lk)("div",ji,[(0,a.Lk)("span",Vi,(0,ut.v_)(e.desc),1),r.currentPlayingAudio===n?((0,a.uX)(),(0,a.CE)("div",Yi,[(0,a.Lk)("div",zi,[(0,a.Lk)("div",{class:"progress-fill",style:(0,ut.Tr)({width:r.audioProgress+"%"})},null,4)]),(0,a.Lk)("span",qi,(0,ut.v_)(r.formatTime(r.audioCurrentTime))+" / "+(0,ut.v_)(r.formatTime(r.audioDuration)),1)])):(0,a.Q3)("",!0)]),r.currentPlayingAudio===n?((0,a.uX)(),(0,a.CE)("div",Ki,[(0,a.Lk)("button",{class:"volume-btn",onClick:t[2]||(t[2]=(...e)=>r.toggleMute&&r.toggleMute(...e))},(0,ut.v_)(r.isAudioMuted?"🔇":"🔊"),1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("audio",{ref_for:!0,ref:`audioPlayer${n}`,src:r.getMediaUrl(r.event.id,e.fileName),onLoadedmetadata:t[3]||(t[3]=(...e)=>r.onAudioLoadedMetadata&&r.onAudioLoadedMetadata(...e)),onTimeupdate:t[4]||(t[4]=(...e)=>r.onAudioTimeUpdate&&r.onAudioTimeUpdate(...e)),onEnded:t[5]||(t[5]=(...e)=>r.onAudioEnded&&r.onAudioEnded(...e)),onError:t[6]||(t[6]=(...e)=>r.onAudioError&&r.onAudioError(...e)),onLoadstart:t[7]||(t[7]=(...e)=>r.onAudioLoadStart&&r.onAudioLoadStart(...e)),onCanplay:t[8]||(t[8]=(...e)=>r.onAudioCanPlay&&r.onAudioCanPlay(...e)),preload:"metadata"},null,40,Wi)]))),128))])])):(0,a.Q3)("",!0),(0,a.Lk)("div",Qi,[t[34]||(t[34]=(0,a.Lk)("h3",{class:"section-title"},"详细描述",-1)),(0,a.Lk)("p",Hi,(0,ut.v_)(r.event.description),1)]),(0,a.Lk)("div",Ji,[r.event.location?((0,a.uX)(),(0,a.CE)("div",Gi,[t[35]||(t[35]=(0,a.Lk)("span",{class:"info-label"},"地点:",-1)),(0,a.Lk)("span",Zi,(0,ut.v_)(r.event.location),1)])):(0,a.Q3)("",!0),(0,a.Lk)("div",es,[t[36]||(t[36]=(0,a.Lk)("span",{class:"info-label"},"记录时间:",-1)),(0,a.Lk)("span",ts,(0,ut.v_)(r.formatDateTime(r.event.date)),1)])]),(0,a.Lk)("div",ns,[(0,a.Lk)("button",{class:"edit-btn",onClick:t[9]||(t[9]=(...e)=>r.editEvent&&r.editEvent(...e))}," ✏️ 编辑 "),(0,a.Lk)("button",{class:"delete-btn",onClick:t[10]||(t[10]=(...e)=>r.deleteEvent&&r.deleteEvent(...e))}," 🗑️ 删除 ")])])):(0,a.Q3)("",!0),r.showPhotoViewer?((0,a.uX)(),(0,a.CE)("div",{key:3,class:"photo-modal",onClick:t[22]||(t[22]=(...e)=>r.closePhotoViewer&&r.closePhotoViewer(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[18]||(t[18]=(0,dt.D$)(()=>{},["stop"])),onTouchstart:t[19]||(t[19]=(...e)=>r.handleTouchStart&&r.handleTouchStart(...e)),onTouchmove:t[20]||(t[20]=(...e)=>r.handleTouchMove&&r.handleTouchMove(...e)),onTouchend:t[21]||(t[21]=(...e)=>r.handleTouchEnd&&r.handleTouchEnd(...e))},[(0,a.Lk)("button",{class:"modal-close",onClick:t[11]||(t[11]=(...e)=>r.closePhotoViewer&&r.closePhotoViewer(...e))},"✕"),(0,a.Lk)("div",rs,[(0,a.Lk)("button",{class:"zoom-btn",onClick:t[12]||(t[12]=(...e)=>r.zoomOut&&r.zoomOut(...e)),disabled:r.imageScale<=r.minScale},"−",8,as),(0,a.Lk)("span",os,(0,ut.v_)(Math.round(100*r.imageScale))+"%",1),(0,a.Lk)("button",{class:"zoom-btn",onClick:t[13]||(t[13]=(...e)=>r.zoomIn&&r.zoomIn(...e)),disabled:r.imageScale>=r.maxScale},"+",8,is),1!==r.imageScale?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"zoom-btn reset",onClick:t[14]||(t[14]=(...e)=>r.resetZoom&&r.resetZoom(...e))},"重置")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",ss,[r.currentPhotoIndex>0?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"nav-btn prev",onClick:t[15]||(t[15]=(...e)=>r.prevPhoto&&r.prevPhoto(...e))},"‹")):(0,a.Q3)("",!0),(0,a.Lk)("div",ls,[(0,a.Lk)("div",{class:"large-photo-container",onDblclick:t[16]||(t[16]=(...e)=>r.handleDoubleClick&&r.handleDoubleClick(...e))},[(0,a.Lk)("div",{class:"large-photo-placeholder",style:(0,ut.Tr)({backgroundImage:`url(${r.getMediaUrl(r.event.id,r.event.media.images[r.currentPhotoIndex].fileName)})`,transform:`scale(${r.imageScale}) translate(${r.imageTranslateX}px, ${r.imageTranslateY}px)`,transition:1===r.imageScale?"transform 0.3s ease":"none"})},[r.event.media.images[r.currentPhotoIndex].fileName?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",cs,"📷"))],4)],32),(0,a.Lk)("p",us,(0,ut.v_)(r.currentPhotoIndex+1)+" / "+(0,ut.v_)(r.event.media.images.length),1),(0,a.Lk)("div",ds,[r.imageScale<=1?((0,a.uX)(),(0,a.CE)("span",hs,"← 滑动切换 →")):((0,a.uX)(),(0,a.CE)("span",fs,"双击重置缩放"))])]),r.currentPhotoIndex<r.event.media.images.length-1?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"nav-btn next",onClick:t[17]||(t[17]=(...e)=>r.nextPhoto&&r.nextPhoto(...e))},"›")):(0,a.Q3)("",!0)])],32)])):(0,a.Q3)("",!0),r.showVideoPlayer?((0,a.uX)(),(0,a.CE)("div",{key:4,class:"video-modal",onClick:t[29]||(t[29]=(...e)=>r.closeVideoPlayer&&r.closeVideoPlayer(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[28]||(t[28]=(0,dt.D$)(()=>{},["stop"]))},[(0,a.Lk)("button",{class:"modal-close",onClick:t[23]||(t[23]=(...e)=>r.closeVideoPlayer&&r.closeVideoPlayer(...e))},"✕"),(0,a.Lk)("div",ps,[(0,a.Lk)("video",{ref:"videoPlayerRef",src:r.getVideoUrl(r.event.id,r.currentVideo?.fileName),class:"modal-video",controls:"",autoplay:"",onEnded:t[24]||(t[24]=(...e)=>r.onVideoEnded&&r.onVideoEnded(...e)),onError:t[25]||(t[25]=(...e)=>r.onVideoError&&r.onVideoError(...e))}," 您的浏览器不支持视频播放 ",40,ms),(0,a.Lk)("div",gs,[(0,a.Lk)("h3",vs,(0,ut.v_)(r.currentVideo?.desc||"视频"),1),(0,a.Lk)("div",ys,[r.currentVideoIndex>0?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"nav-btn prev",onClick:t[26]||(t[26]=(...e)=>r.prevVideo&&r.prevVideo(...e))},"‹ 上一个")):(0,a.Q3)("",!0),(0,a.Lk)("span",bs,(0,ut.v_)(r.currentVideoIndex+1)+" / "+(0,ut.v_)(r.event.media.videos.length),1),r.currentVideoIndex<r.event.media.videos.length-1?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"nav-btn next",onClick:t[27]||(t[27]=(...e)=>r.nextVideo&&r.nextVideo(...e))},"下一个 ›")):(0,a.Q3)("",!0)])])])])])):(0,a.Q3)("",!0)])}class Es{constructor(e={}){this.options={minScale:.5,maxScale:3,swipeThreshold:50,maxVerticalDistance:100,doubleTapThreshold:300,...e},this.isActive=!1,this.touches=[],this.lastTouchTime=0,this.tapCount=0,this.startX=0,this.startY=0,this.currentX=0,this.currentY=0,this.initialDistance=0,this.initialScale=1,this.currentScale=1,this.isDragging=!1,this.dragStartX=0,this.dragStartY=0,this.translateX=0,this.translateY=0,this.callbacks={onSwipeLeft:null,onSwipeRight:null,onSwipeUp:null,onSwipeDown:null,onScale:null,onDrag:null,onDoubleTap:null,onSingleTap:null},this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this)}activate(){this.isActive=!0}deactivate(){this.isActive=!1,this.reset()}reset(){this.touches=[],this.currentScale=1,this.translateX=0,this.translateY=0,this.isDragging=!1,this.tapCount=0}on(e,t){const n=`on${this.capitalizeFirst(e)}`;Object.prototype.hasOwnProperty.call(this.callbacks,n)&&(this.callbacks[n]=t)}setScale(e){return this.currentScale=Math.max(this.options.minScale,Math.min(this.options.maxScale,e)),this.currentScale}setTranslate(e,t){this.translateX=e,this.translateY=t}getTransform(){return{scale:this.currentScale,translateX:this.translateX,translateY:this.translateY}}handleTouchStart(e){if(!this.isActive)return;e.preventDefault(),this.touches=Array.from(e.touches);const t=Date.now(),n=t-this.lastTouchTime;if(1===this.touches.length){const e=this.touches[0];if(this.startX=e.clientX,this.startY=e.clientY,this.currentX=e.clientX,this.currentY=e.clientY,n<this.options.doubleTapThreshold){if(this.tapCount++,2===this.tapCount)return this.handleDoubleTap(e),void(this.tapCount=0)}else this.tapCount=1;this.lastTouchTime=t,this.currentScale>1&&(this.isDragging=!0,this.dragStartX=e.clientX,this.dragStartY=e.clientY)}else 2===this.touches.length&&(this.initialDistance=this.getDistance(this.touches[0],this.touches[1]),this.initialScale=this.currentScale,this.isDragging=!1)}handleTouchMove(e){if(this.isActive)if(e.preventDefault(),this.touches=Array.from(e.touches),1===this.touches.length){const e=this.touches[0];if(this.currentX=e.clientX,this.currentY=e.clientY,this.isDragging&&this.currentScale>1){const t=e.clientX-this.dragStartX,n=e.clientY-this.dragStartY;this.translateX+=t,this.translateY+=n,this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.triggerCallback("onDrag",{translateX:this.translateX,translateY:this.translateY})}}else if(2===this.touches.length){const e=this.getDistance(this.touches[0],this.touches[1]),t=e/this.initialDistance,n=this.initialScale*t;this.setScale(n),this.currentScale<=1&&(this.translateX=0,this.translateY=0),this.triggerCallback("onScale",{scale:this.currentScale,translateX:this.translateX,translateY:this.translateY})}}handleTouchEnd(e){if(!this.isActive)return;const t=Array.from(e.touches);if(0===t.length){if(1===this.touches.length){(!this.isDragging||this.currentScale<=1)&&this.handleSwipe();const e=Math.abs(this.currentX-this.startX),t=Math.abs(this.currentY-this.startY);e<10&&t<10&&1===this.tapCount&&setTimeout(()=>{1===this.tapCount&&(this.triggerCallback("onSingleTap",{x:this.currentX,y:this.currentY}),this.tapCount=0)},this.options.doubleTapThreshold)}this.isDragging=!1,this.touches=[]}else 1===t.length&&2===this.touches.length&&(this.currentScale>1&&(this.isDragging=!0,this.dragStartX=t[0].clientX,this.dragStartY=t[0].clientY),this.touches=t)}handleSwipe(){const e=this.currentX-this.startX,t=this.currentY-this.startY,n=Math.abs(e),r=Math.abs(t);n>this.options.swipeThreshold&&n>r&&r<this.options.maxVerticalDistance?e>0?this.triggerCallback("onSwipeRight",{deltaX:e,deltaY:t}):this.triggerCallback("onSwipeLeft",{deltaX:e,deltaY:t}):r>this.options.swipeThreshold&&r>n&&(t>0?this.triggerCallback("onSwipeDown",{deltaX:e,deltaY:t}):this.triggerCallback("onSwipeUp",{deltaX:e,deltaY:t}))}handleDoubleTap(e){this.triggerCallback("onDoubleTap",{x:e.clientX,y:e.clientY,currentScale:this.currentScale})}getDistance(e,t){const n=t.clientX-e.clientX,r=t.clientY-e.clientY;return Math.sqrt(n*n+r*r)}triggerCallback(e,t){this.callbacks[e]&&"function"===typeof this.callbacks[e]&&this.callbacks[e](t)}capitalizeFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}}function As(e={}){return new Es({minScale:.5,maxScale:3,swipeThreshold:50,maxVerticalDistance:100,doubleTapThreshold:300,...e})}var ks={name:"EventDetail",setup(){const e=ct(),t=lt(),n=(0,o.KR)(null),r=(0,o.KR)(!1),i=(0,o.KR)(!1),s=(0,o.KR)(0),l=(0,o.KR)(!1),c=(0,o.KR)(0),u=(0,o.KR)(null),d=(0,o.KR)(null),h=(0,o.KR)(-1),f=(0,o.KR)(!1),p=(0,o.KR)(!1),m=(0,o.KR)(!1),g=(0,o.KR)(0),v=(0,o.KR)(0),y=(0,o.KR)(0),b=(0,o.KR)(null),w=(0,o.KR)(!0),E=(0,o.KR)(""),A=(0,o.KR)(1),k=(0,o.KR)(0),S=(0,o.KR)(0),R=.5,T=3,L=(0,o.KR)(null),C=async()=>{try{w.value=!0,E.value="";const r=e.params.id,a=await yo(r);a.success?n.value=a.data:(E.value=a.message||"获取事件详情失败","事件不存在"===a.message&&setTimeout(()=>{t.push("/")},3e3))}catch(r){E.value="网络错误，请稍后重试",console.error("加载事件详情失败:",r)}finally{w.value=!1}},x=e=>Gt()(e).format("YYYY年MM月DD日"),O=e=>Gt()(e).format("YYYY年MM月DD日 HH:mm"),D=e=>{const t=Gt()("2025-05-09"),n=Gt()(e),r=n.diff(t,"month");if(r<12){const e=t.add(r,"month"),a=n.diff(e,"day");if(0===r){const e=n.diff(t,"day");return`出生第${e}天`}return`${r}个月${a>0?`${a}天`:""}`}{const e=Math.floor(r/12),t=r%12;return`${e}岁${t>0?`${t}个月`:""}`}},_=()=>{t.push({path:"/",query:{highlight:n.value?.id}})},I=e=>{s.value=e,i.value=!0,setTimeout(()=>{ae(),L.value.activate()},100)},P=()=>{i.value=!1,L.value&&L.value.deactivate(),M()},M=()=>{A.value=1,k.value=0,S.value=0},U=()=>{A.value<T&&(A.value=Math.min(1.5*A.value,T),L.value&&L.value.setScale(A.value))},$=()=>{A.value>R&&(A.value=Math.max(A.value/1.5,R),A.value<=1&&(k.value=0,S.value=0),L.value&&(L.value.setScale(A.value),L.value.setTranslate(k.value,S.value)))},N=()=>{M(),L.value&&(L.value.setScale(1),L.value.setTranslate(0,0))},B=()=>{1===A.value?(A.value=2,L.value&&L.value.setScale(2)):(M(),L.value&&(L.value.setScale(1),L.value.setTranslate(0,0)))},F=()=>{s.value>0&&(s.value--,M(),L.value&&(L.value.setScale(1),L.value.setTranslate(0,0)))},X=()=>{s.value<n.value.media.images.length-1&&(s.value++,M(),L.value&&(L.value.setScale(1),L.value.setTranslate(0,0)))},j=(e,t)=>{u.value=e,c.value=t,l.value=!0},V=()=>{l.value=!1,d.value&&d.value.pause()},Y=()=>{c.value>0&&(c.value--,u.value=n.value.media.videos[c.value])},z=()=>{c.value<n.value.media.videos.length-1&&(c.value++,u.value=n.value.media.videos[c.value])},q=()=>{console.log("视频播放结束"),c.value<n.value.media.videos.length-1&&z()},K=e=>{console.error("视频播放错误:",e),alert("视频播放失败，请检查网络连接或联系管理员")},W=e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`},Q=async(e,t)=>{const n=document.querySelector(`audio[src*="${e.fileName}"]`);if(n){if(h.value===t&&f.value)return n.pause(),void(f.value=!1);b.value&&b.value!==n&&(b.value.pause(),b.value.currentTime=0);try{h.value=t,b.value=n,p.value=!0,await n.play(),f.value=!0,p.value=!1}catch(E){console.error("音频播放失败:",E),p.value=!1,f.value=!1,alert("音频播放失败，请检查网络连接")}}else console.error("音频元素不存在")},H=()=>{p.value=!0},J=()=>{p.value=!1},G=e=>{const t=e.target;y.value=t.duration||0},Z=e=>{const t=e.target;v.value=t.currentTime,y.value>0&&(g.value=t.currentTime/y.value*100)},ee=()=>{f.value=!1,h.value=-1,g.value=0,v.value=0,b.value=null},te=e=>{console.error("音频播放错误:",e),f.value=!1,p.value=!1,h.value=-1,alert("音频加载失败，请检查网络连接")},ne=()=>{b.value&&(m.value=!m.value,b.value.muted=m.value)},re=e=>{if(!e||isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`},ae=()=>{L.value&&L.value.deactivate(),L.value=As({minScale:R,maxScale:T}),L.value.on("swipeLeft",()=>{X()}),L.value.on("swipeRight",()=>{F()}),L.value.on("scale",e=>{A.value=e.scale,k.value=e.translateX,S.value=e.translateY}),L.value.on("drag",e=>{k.value=e.translateX,S.value=e.translateY}),L.value.on("doubleTap",e=>{if(1===e.currentScale){const e=2;A.value=e,L.value.setScale(e)}else N(),L.value.setScale(1),L.value.setTranslate(0,0)})},oe=e=>{i.value&&L.value&&L.value.handleTouchStart(e)},ie=e=>{i.value&&L.value&&L.value.handleTouchMove(e)},se=e=>{i.value&&L.value&&L.value.handleTouchEnd(e)},le=e=>{if(i.value)switch(e.key){case"ArrowLeft":e.preventDefault(),F();break;case"ArrowRight":e.preventDefault(),X();break;case"Escape":e.preventDefault(),P();break}},ce=()=>{console.log("编辑事件:",n.value.id),t.push(`/edit/${n.value.id}`)},ue=async()=>{if(confirm("确定要删除这个事件吗？此操作不可恢复。"))try{const e=await Eo(n.value.id);e.success?t.push({path:"/",query:{highlight:n.value.id}}):alert(e.message||"删除失败")}catch(e){alert("网络错误，删除失败"),console.error("删除事件失败:",e)}};return(0,a.sV)(async()=>{await C(),window.scrollTo(0,0),document.addEventListener("keydown",le)}),(0,a.xo)(()=>{document.removeEventListener("keydown",le)}),{event:n,isPlaying:r,showPhotoViewer:i,currentPhotoIndex:s,showVideoPlayer:l,currentVideoIndex:c,currentVideo:u,videoPlayerRef:d,currentPlayingAudio:h,isAudioPlaying:f,isAudioLoading:p,isAudioMuted:m,audioProgress:g,audioCurrentTime:v,audioDuration:y,currentAudioElement:b,loading:w,error:E,formatDate:x,formatDateTime:O,getAgeAtEvent:D,goBack:_,openPhotoViewer:I,closePhotoViewer:P,prevPhoto:F,nextPhoto:X,openVideoPlayer:j,closeVideoPlayer:V,prevVideo:Y,nextVideo:z,onVideoEnded:q,onVideoError:K,formatDuration:W,toggleAudio:Q,onAudioLoadStart:H,onAudioCanPlay:J,onAudioLoadedMetadata:G,onAudioTimeUpdate:Z,onAudioEnded:ee,onAudioError:te,toggleMute:ne,formatTime:re,editEvent:ce,deleteEvent:ue,loadEventDetail:C,getMediaUrl:ko,getVideoUrl:So,handleTouchStart:oe,handleTouchMove:ie,handleTouchEnd:se,handleKeyDown:le,initGestureManager:ae,imageScale:A,imageTranslateX:k,imageTranslateY:S,minScale:R,maxScale:T,zoomIn:U,zoomOut:$,resetZoom:N,handleDoubleClick:B,gestureManager:L}}};const Ss=(0,Xo.A)(ks,[["render",ws],["__scopeId","data-v-46582df2"]]);var Rs=Ss;const Ts={class:"add-edit-event"},Ls={class:"header"},Cs={class:"page-title"},xs={key:0,class:"loading-container"},Os={key:1,class:"error-container"},Ds={key:2,class:"form-container"},_s={class:"form-section"},Is={class:"form-group"},Ps={class:"form-group"},Ms={class:"form-group"},Us={class:"form-group"},$s={class:"form-section"},Ns=["disabled"],Bs={class:"upload-placeholder"},Fs={key:0},Xs={key:1},js={key:2,class:"upload-hint"},Vs={key:0,class:"media-list"},Ys={key:0,class:"media-icon"},zs={class:"media-info"},qs=["onUpdate:modelValue"],Ks=["onClick"],Ws={class:"form-section"},Qs=["disabled"],Hs={class:"upload-placeholder"},Js={key:0},Gs={key:1},Zs={key:2,class:"upload-hint"},el={key:0,class:"media-list"},tl={class:"media-info"},nl=["onUpdate:modelValue"],rl=["onClick"],al={class:"form-section"},ol={class:"recording-controls"},il=["disabled"],sl={key:0},ll={key:1},cl={key:2},ul={key:0,class:"recording-info"},dl={class:"recording-time"},hl=["disabled"],fl={key:0,class:"media-list"},pl={class:"media-info"},ml=["onUpdate:modelValue"],gl=["onClick"],vl={class:"form-actions"},yl=["disabled"];function bl(e,t,n,r,o,i){return(0,a.uX)(),(0,a.CE)("div",Ts,[(0,a.Lk)("header",Ls,[(0,a.Lk)("button",{class:"back-btn",onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e))}," ← 返回 "),(0,a.Lk)("h1",Cs,(0,ut.v_)(r.isEdit?"编辑事件":"新增事件"),1)]),r.loading?((0,a.uX)(),(0,a.CE)("div",xs,[...t[15]||(t[15]=[(0,a.Lk)("div",{class:"loading-spinner"},"⏳",-1),(0,a.Lk)("p",null,"正在加载事件数据...",-1)])])):r.error&&!r.isEdit?((0,a.uX)(),(0,a.CE)("div",Os,[t[16]||(t[16]=(0,a.Lk)("div",{class:"error-icon"},"⚠️",-1)),t[17]||(t[17]=(0,a.Lk)("p",null,"加载失败",-1)),(0,a.Lk)("button",{class:"retry-btn",onClick:t[1]||(t[1]=(...e)=>r.loadEditData&&r.loadEditData(...e))},"重试")])):((0,a.uX)(),(0,a.CE)("div",Ds,[(0,a.Lk)("form",{onSubmit:t[14]||(t[14]=(0,dt.D$)((...e)=>r.saveEvent&&r.saveEvent(...e),["prevent"])),class:"event-form"},[(0,a.Lk)("div",_s,[t[22]||(t[22]=(0,a.Lk)("h3",{class:"section-title"},"基本信息",-1)),(0,a.Lk)("div",Is,[t[18]||(t[18]=(0,a.Lk)("label",{class:"form-label",for:"title"},"事件标题 *",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":t[2]||(t[2]=e=>r.formData.title=e),class:"form-input",placeholder:"请输入事件标题",required:""},null,512),[[dt.Jo,r.formData.title]])]),(0,a.Lk)("div",Ps,[t[19]||(t[19]=(0,a.Lk)("label",{class:"form-label",for:"date"},"事件日期 *",-1)),(0,a.bo)((0,a.Lk)("input",{type:"date",id:"date","onUpdate:modelValue":t[3]||(t[3]=e=>r.formData.date=e),class:"form-input",required:""},null,512),[[dt.Jo,r.formData.date]])]),(0,a.Lk)("div",Ms,[t[20]||(t[20]=(0,a.Lk)("label",{class:"form-label",for:"location"},"地点",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"location","onUpdate:modelValue":t[4]||(t[4]=e=>r.formData.location=e),class:"form-input",placeholder:"请输入地点"},null,512),[[dt.Jo,r.formData.location]])]),(0,a.Lk)("div",Us,[t[21]||(t[21]=(0,a.Lk)("label",{class:"form-label",for:"description"},"详细描述",-1)),(0,a.bo)((0,a.Lk)("textarea",{id:"description","onUpdate:modelValue":t[5]||(t[5]=e=>r.formData.description=e),class:"form-textarea",rows:"4",placeholder:"请输入详细描述"},null,512),[[dt.Jo,r.formData.description]])])]),(0,a.Lk)("div",$s,[t[23]||(t[23]=(0,a.Lk)("h3",{class:"section-title"},"照片",-1)),(0,a.Lk)("div",{class:(0,ut.C4)(["upload-area",{uploading:r.uploading}]),onClick:t[7]||(t[7]=e=>!r.uploading&&r.triggerImageUpload())},[(0,a.Lk)("input",{type:"file",ref:"imageInput",onChange:t[6]||(t[6]=(...e)=>r.handleImageUpload&&r.handleImageUpload(...e)),accept:"image/*",multiple:"",style:{display:"none"},disabled:r.uploading},null,40,Ns),(0,a.Lk)("div",Bs,[r.uploading?((0,a.uX)(),(0,a.CE)("span",Fs,"⏳")):((0,a.uX)(),(0,a.CE)("span",Xs,"📷")),(0,a.Lk)("p",null,(0,ut.v_)(r.uploading?"正在上传照片...":"点击上传照片"),1),r.uploading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",js,"支持多张图片上传"))])],2),r.formData.media.images.length>0?((0,a.uX)(),(0,a.CE)("div",Vs,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.formData.media.images,(e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:`image-${t}`,class:"media-item"},[(0,a.Lk)("div",{class:"media-preview",style:(0,ut.Tr)(e.fileName&&r.isEdit?{backgroundImage:`url(${r.getMediaUrl(r.route.params.id,e.fileName)})`}:{})},[e.fileName&&r.isEdit?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",Ys,"📷"))],4),(0,a.Lk)("div",zs,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.desc=t,class:"media-desc-input",placeholder:"请输入图片描述"},null,8,qs),[[dt.Jo,e.desc]])]),(0,a.Lk)("button",{type:"button",class:"remove-btn",onClick:e=>r.removeMedia("images",t)}," ✕ ",8,Ks)]))),128))])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Ws,[t[25]||(t[25]=(0,a.Lk)("h3",{class:"section-title"},"视频",-1)),(0,a.Lk)("div",{class:(0,ut.C4)(["upload-area",{uploading:r.uploading}]),onClick:t[9]||(t[9]=e=>!r.uploading&&r.triggerVideoUpload())},[(0,a.Lk)("input",{type:"file",ref:"videoInput",onChange:t[8]||(t[8]=(...e)=>r.handleVideoUpload&&r.handleVideoUpload(...e)),accept:"video/*",multiple:"",style:{display:"none"},disabled:r.uploading},null,40,Qs),(0,a.Lk)("div",Hs,[r.uploading?((0,a.uX)(),(0,a.CE)("span",Js,"⏳")):((0,a.uX)(),(0,a.CE)("span",Gs,"🎬")),(0,a.Lk)("p",null,(0,ut.v_)(r.uploading?"正在上传视频...":"点击上传视频"),1),r.uploading?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",Zs,"支持多个视频上传"))])],2),r.formData.media.videos.length>0?((0,a.uX)(),(0,a.CE)("div",el,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.formData.media.videos,(e,n)=>((0,a.uX)(),(0,a.CE)("div",{key:`video-${n}`,class:"media-item"},[t[24]||(t[24]=(0,a.Lk)("div",{class:"media-preview video"},[(0,a.Lk)("span",{class:"media-icon"},"🎬")],-1)),(0,a.Lk)("div",tl,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.desc=t,class:"media-desc-input",placeholder:"请输入视频描述"},null,8,nl),[[dt.Jo,e.desc]])]),(0,a.Lk)("button",{type:"button",class:"remove-btn",onClick:e=>r.removeMedia("videos",n)}," ✕ ",8,rl)]))),128))])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",al,[t[29]||(t[29]=(0,a.Lk)("h3",{class:"section-title"},"录音",-1)),(0,a.Lk)("div",ol,[(0,a.Lk)("button",{type:"button",class:(0,ut.C4)(["record-btn",{recording:r.isRecording,disabled:r.uploading}]),onClick:t[10]||(t[10]=(...e)=>r.toggleRecording&&r.toggleRecording(...e)),disabled:r.uploading},[r.isRecording?((0,a.uX)(),(0,a.CE)("span",sl,"⏹️ 停止录音")):r.uploading?((0,a.uX)(),(0,a.CE)("span",ll,"⏳ 上传中...")):((0,a.uX)(),(0,a.CE)("span",cl,"🎤 开始录音"))],10,il),r.isRecording?((0,a.uX)(),(0,a.CE)("div",ul,[(0,a.Lk)("span",dl,(0,ut.v_)(r.formatTime(r.recordingTime)),1),t[26]||(t[26]=(0,a.Lk)("span",{class:"recording-indicator"},"🔴 录音中",-1))])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",{class:(0,ut.C4)(["upload-area secondary",{uploading:r.uploading,disabled:r.isRecording}]),onClick:t[12]||(t[12]=e=>!r.uploading&&!r.isRecording&&r.triggerAudioUpload())},[(0,a.Lk)("input",{type:"file",ref:"audioInput",onChange:t[11]||(t[11]=(...e)=>r.handleAudioUpload&&r.handleAudioUpload(...e)),accept:"audio/*",multiple:"",style:{display:"none"},disabled:r.uploading||r.isRecording},null,40,hl),t[27]||(t[27]=(0,a.Lk)("div",{class:"upload-placeholder"},[(0,a.Lk)("span",null,"📁"),(0,a.Lk)("p",null,"或者点击上传音频文件"),(0,a.Lk)("span",{class:"upload-hint"},"支持多段音频上传")],-1))],2),r.formData.media.audios.length>0?((0,a.uX)(),(0,a.CE)("div",fl,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.formData.media.audios,(e,n)=>((0,a.uX)(),(0,a.CE)("div",{key:`audio-${n}`,class:"media-item"},[t[28]||(t[28]=(0,a.Lk)("div",{class:"media-preview audio"},[(0,a.Lk)("span",{class:"media-icon"},"🎙")],-1)),(0,a.Lk)("div",pl,[(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.desc=t,class:"media-desc-input",placeholder:"请输入音频描述"},null,8,ml),[[dt.Jo,e.desc]])]),(0,a.Lk)("button",{type:"button",class:"remove-btn",onClick:e=>r.removeMedia("audios",n)}," ✕ ",8,gl)]))),128))])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",vl,[(0,a.Lk)("button",{type:"button",class:"cancel-btn",onClick:t[13]||(t[13]=(...e)=>r.goBack&&r.goBack(...e))}," 取消 "),(0,a.Lk)("button",{type:"submit",class:"save-btn",disabled:!r.isFormValid||r.saving},(0,ut.v_)(r.saving?"保存中...":r.isEdit?"保存修改":"创建事件"),9,yl)])],32)]))])}class wl{constructor(){this.mediaRecorder=null,this.audioChunks=[],this.isRecording=!1,this.stream=null,this.onDataAvailable=null,this.onStop=null,this.onError=null,this.startTime=null,this.recordingTimer=null,this.onTimeUpdate=null}static isSupported(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.MediaRecorder)}async startRecording(){try{if(this.isRecording)throw new Error("录音已在进行中");if(!wl.isSupported())throw new Error("当前浏览器不支持录音功能");this.stream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});const e={mimeType:this.getSupportedMimeType()};return this.mediaRecorder=new MediaRecorder(this.stream,e),this.audioChunks=[],this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.audioChunks.push(e.data),this.onDataAvailable&&this.onDataAvailable(e)},this.mediaRecorder.onstop=()=>{this.isRecording=!1,this.stopTimer();const e=new Blob(this.audioChunks,{type:this.getSupportedMimeType()});this.onStop&&this.onStop(e,this.getRecordingDuration()),this.cleanup()},this.mediaRecorder.onerror=e=>{console.error("录音错误:",e.error),this.isRecording=!1,this.stopTimer(),this.cleanup(),this.onError&&this.onError(e.error)},this.mediaRecorder.start(1e3),this.isRecording=!0,this.startTime=Date.now(),this.startTimer(),!0}catch(e){throw console.error("开始录音失败:",e),this.cleanup(),e}}stopRecording(){if(!this.isRecording||!this.mediaRecorder)return!1;try{return this.mediaRecorder.stop(),!0}catch(e){return console.error("停止录音失败:",e),this.cleanup(),!1}}cancelRecording(){if(!this.isRecording)return!1;try{return this.isRecording=!1,this.stopTimer(),this.mediaRecorder&&"inactive"!==this.mediaRecorder.state&&this.mediaRecorder.stop(),this.cleanup(),!0}catch(e){return console.error("取消录音失败:",e),this.cleanup(),!1}}getRecordingDuration(){return this.startTime?Math.floor((Date.now()-this.startTime)/1e3):0}getSupportedMimeType(){const e=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg","audio/wav","audio/mp4","audio/mpeg"];for(const t of e)if(MediaRecorder.isTypeSupported(t))return t;return"audio/webm"}getFileExtension(){const e=this.getSupportedMimeType();return e.includes("webm")?"webm":e.includes("ogg")?"ogg":e.includes("wav")?"wav":e.includes("mp4")?"m4a":e.includes("mpeg")?"mp3":"webm"}startTimer(){this.recordingTimer=setInterval(()=>{this.onTimeUpdate&&this.onTimeUpdate(this.getRecordingDuration())},1e3)}stopTimer(){this.recordingTimer&&(clearInterval(this.recordingTimer),this.recordingTimer=null)}cleanup(){this.stopTimer(),this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.mediaRecorder=null,this.audioChunks=[],this.startTime=null}destroy(){this.cancelRecording(),this.onDataAvailable=null,this.onStop=null,this.onError=null,this.onTimeUpdate=null}}var El=wl,Al={name:"AddEditEvent",setup(){const e=ct(),t=lt(),n=(0,o.KR)(null),r=(0,o.KR)(null),i=(0,o.KR)(null),s=(0,o.KR)(!1),l=(0,o.KR)(!1),c=(0,o.KR)(!1),u=(0,o.KR)(""),d=(0,o.KR)(!1),h=(0,o.KR)(0),f=(0,o.KR)(null),p=(0,a.EW)(()=>!!e.params.id),m=(0,o.KR)({title:"",date:Gt()().format("YYYY-MM-DD"),location:"",description:"",media:{images:[],videos:[],audios:[]}}),g=(0,a.EW)(()=>""!==m.value.title.trim()&&""!==m.value.date),v=async()=>{if(p.value)try{s.value=!0;const n=e.params.id,r=await yo(n);if(r.success){const e=r.data;m.value={title:e.title,date:e.date,location:e.location||"",description:e.description||"",media:{images:[...e.media.images],videos:[...e.media.videos],audios:[...e.media.audios]}}}else alert(r.message||"获取事件数据失败"),"事件不存在"===r.message&&setTimeout(()=>{t.push("/")},1e3)}catch(n){alert("网络错误，请稍后重试"),console.error("加载编辑数据失败:",n)}finally{s.value=!1}},y=()=>{n.value.click()},b=()=>{r.value.click()},w=()=>{i.value.click()},E=async e=>{const t=Array.from(e.target.files);if(0!==t.length)try{c.value=!0;const e=await Ao(t,"image");e.success?(e.data.successful.forEach((e,n)=>{const r=t[n];m.value.media.images.push({fileName:e.serverFileName,desc:r?r.name:"",size:e.size,uploadTime:e.uploadTime})}),e.data.failed>0&&alert(e.message)):alert(e.message||"图片上传失败")}catch(n){alert("网络错误，图片上传失败"),console.error("图片上传失败:",n)}finally{c.value=!1,e.target.value=""}},A=async e=>{const t=Array.from(e.target.files);if(0!==t.length)try{c.value=!0;const e=await Ao(t,"video");e.success?(e.data.successful.forEach((e,n)=>{const r=t[n];m.value.media.videos.push({fileName:e.serverFileName,desc:r?r.name:"",size:e.size,uploadTime:e.uploadTime})}),e.data.failed>0&&alert(e.message)):alert(e.message||"视频上传失败")}catch(n){alert("网络错误，视频上传失败"),console.error("视频上传失败:",n)}finally{c.value=!1,e.target.value=""}},k=async e=>{const t=Array.from(e.target.files);if(0!==t.length)try{c.value=!0;const e=await Ao(t,"audio");e.success?(e.data.successful.forEach((e,n)=>{const r=t[n];m.value.media.audios.push({fileName:e.serverFileName,desc:r?r.name:"",size:e.size,uploadTime:e.uploadTime})}),e.data.failed>0&&alert(e.message)):alert(e.message||"音频上传失败")}catch(n){alert("网络错误，音频上传失败"),console.error("音频上传失败:",n)}finally{c.value=!1,e.target.value=""}},S=()=>{f.value||(f.value=new El,f.value.onStop=async(e,t)=>{await C(e,t)},f.value.onTimeUpdate=e=>{h.value=e},f.value.onError=e=>{alert(`录音失败: ${e.message||"未知错误"}`),d.value=!1,h.value=0})},R=async()=>{try{if(!El.isSupported())return void alert("当前浏览器不支持录音功能，请使用现代浏览器");S(),await f.value.startRecording(),d.value=!0,h.value=0}catch(e){alert(e.message||"无法启动录音，请检查麦克风权限"),d.value=!1,console.error("录音启动失败:",e)}},T=()=>{f.value&&d.value&&(f.value.stopRecording(),d.value=!1)},L=()=>{d.value?T():R()},C=async(e,t)=>{try{c.value=!0;const n=(new Date).toISOString().replace(/[:.]/g,"-"),r=f.value.getFileExtension(),a=`recording_${n}.${r}`,o=new File([e],a,{type:e.type}),i=await Ao([o],"audio");i.success?(i.data.successful.forEach(e=>{m.value.media.audios.push({fileName:e.serverFileName,desc:`录音 (${x(t)})`,size:e.size,uploadTime:e.uploadTime})}),i.data.failed>0&&alert(i.message)):alert(i.message||"录音上传失败")}catch(n){alert("网络错误，录音上传失败"),console.error("录音上传失败:",n)}finally{c.value=!1,h.value=0}},x=e=>{const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},O=(e,t)=>{m.value.media[e].splice(t,1)},D=async()=>{if(g.value&&!l.value)try{l.value=!0;const n={title:m.value.title,date:m.value.date,location:m.value.location,description:m.value.description,media:{images:m.value.media.images.map(e=>({fileName:e.fileName,desc:e.desc})),videos:m.value.media.videos.map(e=>({fileName:e.fileName,desc:e.desc})),audios:m.value.media.audios.map(e=>({fileName:e.fileName,desc:e.desc}))}};let r;if(r=p.value?await wo(e.params.id,n):await bo(n),r.success){const n=p.value?e.params.id:r.data.id;t.push({path:"/",query:{highlight:n}})}else alert(r.message||"保存失败")}catch(n){alert("网络错误，保存失败"),console.error("保存事件失败:",n)}finally{l.value=!1}},_=()=>{p.value?t.push(`/event/${e.params.id}`):t.push("/")};return(0,a.sV)(async()=>{await v()}),(0,a.hi)(()=>{f.value&&f.value.destroy()}),{isEdit:p,formData:m,isFormValid:g,loading:s,saving:l,uploading:c,error:u,imageInput:n,videoInput:r,audioInput:i,isRecording:d,recordingTime:h,triggerImageUpload:y,triggerVideoUpload:b,triggerAudioUpload:w,handleImageUpload:E,handleVideoUpload:A,handleAudioUpload:k,toggleRecording:L,formatTime:x,removeMedia:O,saveEvent:D,goBack:_,loadEditData:v,getMediaUrl:ko,route:e}}};const kl=(0,Xo.A)(Al,[["render",bl],["__scopeId","data-v-a76da864"]]);var Sl=kl;const Rl=[{path:"/",name:"HomePage",component:li},{path:"/event/:id",name:"EventDetail",component:Rs},{path:"/add",name:"AddEvent",component:Sl},{path:"/edit/:id",name:"EditEvent",component:Sl}],Tl=it({history:ue(po.A.BasePath),routes:Rl,scrollBehavior(e,t,n){return n||{top:0}}});var Ll=Tl},3506:function(e,t,n){"use strict";var r=n(3925),a=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+a(e)+" as a prototype")}},3925:function(e,t,n){"use strict";var r=n(34);e.exports=function(e){return r(e)||null===e}},3972:function(e,t,n){"use strict";var r=n(34),a=String,o=TypeError;e.exports=function(e){if(void 0===e||r(e))return e;throw new o(a(e)+" is not an object or undefined")}},4154:function(e,t,n){"use strict";var r=n(6955),a=TypeError;e.exports=function(e){if("Uint8Array"===r(e))return e;throw new a("Argument is not an Uint8Array")}},4215:function(e,t,n){"use strict";var r=n(4576),a=n(2839),o=n(2195),i=function(e){return a.slice(0,e.length)===e};e.exports=function(){return i("Bun/")?"BUN":i("Cloudflare-Workers")?"CLOUDFLARE":i("Deno/")?"DENO":i("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"}()},4226:function(e,t,n){"use strict";var r=n(6518),a=n(4576),o=n(3463),i=n(4154),s=n(5169),l=n(2303);a.Uint8Array&&r({target:"Uint8Array",proto:!0},{setFromHex:function(e){i(this),o(e),s(this.buffer);var t=l(e,this).read;return{read:t,written:t/2}}})},4483:function(e,t,n){"use strict";var r,a,o,i,s=n(4576),l=n(9429),c=n(1548),u=s.structuredClone,d=s.ArrayBuffer,h=s.MessageChannel,f=!1;if(c)f=function(e){u(e,{transfer:[e]})};else if(d)try{h||(r=l("worker_threads"),r&&(h=r.MessageChannel)),h&&(a=new h,o=new d(2),i=function(e){a.port1.postMessage(null,[e])},2===o.byteLength&&(i(o),0===o.byteLength&&(f=i)))}catch(p){}e.exports=f},4603:function(e,t,n){"use strict";var r=n(6840),a=n(9504),o=n(655),i=n(2812),s=URLSearchParams,l=s.prototype,c=a(l.append),u=a(l["delete"]),d=a(l.forEach),h=a([].push),f=new s("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&r(l,"delete",function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return u(this,e);var r=[];d(this,function(e,t){h(r,{key:t,value:e})}),i(t,1);var a,s=o(e),l=o(n),f=0,p=0,m=!1,g=r.length;while(f<g)a=r[f++],m||a.key===s?(m=!0,u(this,a.key)):p++;while(p<g)a=r[p++],a.key===s&&a.value===l||c(this,a.key,a.value)},{enumerable:!0,unsafe:!0})},4644:function(e,t,n){"use strict";var r,a,o,i=n(7811),s=n(3724),l=n(4576),c=n(4901),u=n(34),d=n(9297),h=n(6955),f=n(6823),p=n(6699),m=n(6840),g=n(2106),v=n(1625),y=n(2787),b=n(2967),w=n(8227),E=n(3392),A=n(1181),k=A.enforce,S=A.get,R=l.Int8Array,T=R&&R.prototype,L=l.Uint8ClampedArray,C=L&&L.prototype,x=R&&y(R),O=T&&y(T),D=Object.prototype,_=l.TypeError,I=w("toStringTag"),P=E("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",U=i&&!!b&&"Opera"!==h(l.opera),$=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},F=function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(N,t)||d(B,t)},X=function(e){var t=y(e);if(u(t)){var n=S(t);return n&&d(n,M)?n[M]:X(t)}},j=function(e){if(!u(e))return!1;var t=h(e);return d(N,t)||d(B,t)},V=function(e){if(j(e))return e;throw new _("Target is not a typed array")},Y=function(e){if(c(e)&&(!b||v(x,e)))return e;throw new _(f(e)+" is not a typed array constructor")},z=function(e,t,n,r){if(s){if(n)for(var a in N){var o=l[a];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(i){try{o.prototype[e]=t}catch(c){}}}O[e]&&!n||m(O,e,n?t:U&&T[e]||t,r)}},q=function(e,t,n){var r,a;if(s){if(b){if(n)for(r in N)if(a=l[r],a&&d(a,e))try{delete a[e]}catch(o){}if(x[e]&&!n)return;try{return m(x,e,n?t:U&&x[e]||t)}catch(o){}}for(r in N)a=l[r],!a||a[e]&&!n||m(a,e,t)}};for(r in N)a=l[r],o=a&&a.prototype,o?k(o)[M]=a:U=!1;for(r in B)a=l[r],o=a&&a.prototype,o&&(k(o)[M]=a);if((!U||!c(x)||x===Function.prototype)&&(x=function(){throw new _("Incorrect invocation")},U))for(r in N)l[r]&&b(l[r],x);if((!U||!O||O===D)&&(O=x.prototype,U))for(r in N)l[r]&&b(l[r].prototype,O);if(U&&y(C)!==O&&b(C,O),s&&!d(O,I))for(r in $=!0,g(O,I,{configurable:!0,get:function(){return u(this)?this[P]:void 0}}),N)l[r]&&p(l[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:$&&P,aTypedArray:V,aTypedArrayConstructor:Y,exportTypedArrayMethod:z,exportTypedArrayStaticMethod:q,getTypedArrayConstructor:X,isView:F,isTypedArray:j,TypedArray:x,TypedArrayPrototype:O}},4979:function(e,t,n){"use strict";var r=n(6518),a=n(4576),o=n(7751),i=n(6980),s=n(4913).f,l=n(9297),c=n(679),u=n(3167),d=n(2603),h=n(5002),f=n(8574),p=n(3724),m=n(6395),g="DOMException",v=o("Error"),y=o(g),b=function(){c(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new y(t,n),a=new v(t);return a.name=g,s(r,"stack",i(1,f(a.stack,1))),u(r,this,b),r},w=b.prototype=y.prototype,E="stack"in new v(g),A="stack"in new y(1,2),k=y&&p&&Object.getOwnPropertyDescriptor(a,g),S=!!k&&!(k.writable&&k.configurable),R=E&&!S&&!A;r({global:!0,constructor:!0,forced:m||R},{DOMException:R?b:y});var T=o(g),L=T.prototype;if(L.constructor!==T)for(var C in m||s(L,"constructor",i(1,T)),h)if(l(h,C)){var x=h[C],O=x.s;l(T,O)||s(T,O,i(6,x.c))}},5002:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},5169:function(e,t,n){"use strict";var r=n(3238),a=TypeError;e.exports=function(e){if(r(e))throw new a("ArrayBuffer is detached");return e}},5623:function(e,t,n){"use strict";n(456)},5636:function(e,t,n){"use strict";var r=n(4576),a=n(9504),o=n(6706),i=n(7696),s=n(5169),l=n(7394),c=n(4483),u=n(1548),d=r.structuredClone,h=r.ArrayBuffer,f=r.DataView,p=Math.min,m=h.prototype,g=f.prototype,v=a(m.slice),y=o(m,"resizable","get"),b=o(m,"maxByteLength","get"),w=a(g.getInt8),E=a(g.setInt8);e.exports=(u||c)&&function(e,t,n){var r,a=l(e),o=void 0===t?a:i(t),m=!y||!y(e);if(s(e),u&&(e=d(e,{transfer:[e]}),a===o&&(n||m)))return e;if(a>=o&&(!n||m))r=v(e,0,o);else{var g=n&&!m&&b?{maxByteLength:b(e)}:void 0;r=new h(o,g);for(var A=new f(e),k=new f(r),S=p(o,a),R=0;R<S;R++)E(k,R,w(A,R))}return u||c(e),r}},5854:function(e,t,n){"use strict";var r=n(2777),a=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new a("Can't convert number to bigint");return BigInt(t)}},6193:function(e,t,n){"use strict";var r=n(4215);e.exports="NODE"===r},6368:function(e,t,n){"use strict";var r=n(6518),a=n(4576),o=n(9225).clear;r({global:!0,bind:!0,enumerable:!0,forced:a.clearImmediate!==o},{clearImmediate:o})},6573:function(e,t,n){"use strict";var r=n(3724),a=n(2106),o=n(3238),i=ArrayBuffer.prototype;r&&!("detached"in i)&&a(i,"detached",{configurable:!0,get:function(){return o(this)}})},6632:function(e,t,n){"use strict";var r=n(6518),a=n(4576),o=n(9143),i=n(4154),s=a.Uint8Array,l=!s||!s.prototype.setFromBase64||!function(){var e=new s([255,255,255,255,255]);try{return void e.setFromBase64("",null)}catch(t){}try{return void e.setFromBase64("a")}catch(t){}try{e.setFromBase64("MjYyZg===")}catch(t){return 50===e[0]&&54===e[1]&&50===e[2]&&255===e[3]&&255===e[4]}}();s&&r({target:"Uint8Array",proto:!0,forced:l},{setFromBase64:function(e){i(this);var t=o(e,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:t.read,written:t.written}}})},7394:function(e,t,n){"use strict";var r=n(4576),a=n(6706),o=n(2195),i=r.ArrayBuffer,s=r.TypeError;e.exports=i&&a(i.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==o(e))throw new s("ArrayBuffer expected");return e.byteLength}},7566:function(e,t,n){"use strict";var r=n(6840),a=n(9504),o=n(655),i=n(2812),s=URLSearchParams,l=s.prototype,c=a(l.getAll),u=a(l.has),d=new s("a=1");!d.has("a",2)&&d.has("a",void 0)||r(l,"has",function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return u(this,e);var r=c(this,e);i(t,1);var a=o(n),s=0;while(s<r.length)if(r[s++]===a)return!0;return!1},{enumerable:!0,unsafe:!0})},7680:function(e,t,n){"use strict";var r=n(9504);e.exports=r([].slice)},7696:function(e,t,n){"use strict";var r=n(1291),a=n(8014),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=a(t);if(t!==n)throw new o("Wrong length or index");return n}},7811:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7936:function(e,t,n){"use strict";var r=n(6518),a=n(5636);a&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return a(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,n){"use strict";var r=n(6518),a=n(5636);a&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return a(this,arguments.length?arguments[0]:void 0,!0)}})},8574:function(e,t,n){"use strict";var r=n(9504),a=Error,o=r("".replace),i=function(e){return String(new a(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(i);e.exports=function(e,t){if(l&&"string"==typeof e&&!a.prepareStackTrace)while(t--)e=o(e,s,"");return e}},8646:function(e,t,n){"use strict";var r=n(9565),a=n(8551),o=n(1767),i=n(851);e.exports=function(e,t){t&&"string"===typeof e||a(e);var n=i(e);return o(a(void 0!==n?r(n,e):e))}},8721:function(e,t,n){"use strict";var r=n(3724),a=n(9504),o=n(2106),i=URLSearchParams.prototype,s=a(i.forEach);r&&!("size"in i)&&o(i,"size",{get:function(){var e=0;return s(this,function(){e++}),e},configurable:!0,enumerable:!0})},9143:function(e,t,n){"use strict";var r=n(4576),a=n(9504),o=n(3972),i=n(3463),s=n(9297),l=n(2804),c=n(944),u=n(5169),d=l.c2i,h=l.c2iUrl,f=r.SyntaxError,p=r.TypeError,m=a("".charAt),g=function(e,t){for(var n=e.length;t<n;t++){var r=m(e,t);if(" "!==r&&"\t"!==r&&"\n"!==r&&"\f"!==r&&"\r"!==r)break}return t},v=function(e,t,n){var r=e.length;r<4&&(e+=2===r?"AA":"A");var a=(t[m(e,0)]<<18)+(t[m(e,1)]<<12)+(t[m(e,2)]<<6)+t[m(e,3)],o=[a>>16&255,a>>8&255,255&a];if(2===r){if(n&&0!==o[1])throw new f("Extra bits");return[o[0]]}if(3===r){if(n&&0!==o[2])throw new f("Extra bits");return[o[0],o[1]]}return o},y=function(e,t,n){for(var r=t.length,a=0;a<r;a++)e[n+a]=t[a];return n+r};e.exports=function(e,t,n,r){i(e),o(t);var a="base64"===c(t)?d:h,l=t?t.lastChunkHandling:void 0;if(void 0===l&&(l="loose"),"loose"!==l&&"strict"!==l&&"stop-before-partial"!==l)throw new p("Incorrect `lastChunkHandling` option");n&&u(n.buffer);var b=e.length,w=n||[],E=0,A=0,k="",S=0;if(r)while(1){if(S=g(e,S),S===b){if(k.length>0){if("stop-before-partial"===l)break;if("loose"!==l)throw new f("Missing padding");if(1===k.length)throw new f("Malformed padding: exactly one additional character");E=y(w,v(k,a,!1),E)}A=b;break}var R=m(e,S);if(++S,"="===R){if(k.length<2)throw new f("Padding is too early");if(S=g(e,S),2===k.length){if(S===b){if("stop-before-partial"===l)break;throw new f("Malformed padding: only one =")}"="===m(e,S)&&(++S,S=g(e,S))}if(S<b)throw new f("Unexpected character after padding");E=y(w,v(k,a,"strict"===l),E),A=b;break}if(!s(a,R))throw new f("Unexpected character");var T=r-E;if(1===T&&2===k.length||2===T&&3===k.length)break;if(k+=R,4===k.length&&(E=y(w,v(k,a,!1),E),k="",A=S,E===r))break}return{bytes:w,read:A,written:E}}},9225:function(e,t,n){"use strict";var r,a,o,i,s=n(4576),l=n(8745),c=n(6080),u=n(4901),d=n(9297),h=n(9039),f=n(397),p=n(7680),m=n(4055),g=n(2812),v=n(9544),y=n(6193),b=s.setImmediate,w=s.clearImmediate,E=s.process,A=s.Dispatch,k=s.Function,S=s.MessageChannel,R=s.String,T=0,L={},C="onreadystatechange";h(function(){r=s.location});var x=function(e){if(d(L,e)){var t=L[e];delete L[e],t()}},O=function(e){return function(){x(e)}},D=function(e){x(e.data)},_=function(e){s.postMessage(R(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){g(arguments.length,1);var t=u(e)?e:k(e),n=p(arguments,1);return L[++T]=function(){l(t,void 0,n)},a(T),T},w=function(e){delete L[e]},y?a=function(e){E.nextTick(O(e))}:A&&A.now?a=function(e){A.now(O(e))}:S&&!v?(o=new S,i=o.port2,o.port1.onmessage=D,a=c(i.postMessage,i)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(_)?(a=_,s.addEventListener("message",D,!1)):a=C in m("script")?function(e){f.appendChild(m("script"))[C]=function(){f.removeChild(this),x(e)}}:function(e){setTimeout(O(e),0)}),e.exports={set:b,clear:w}},9309:function(e,t,n){"use strict";var r=n(6518),a=n(4576),o=n(9225).set,i=n(9472),s=a.setImmediate?i(o,!1):o;r({global:!0,bind:!0,enumerable:!0,forced:a.setImmediate!==s},{setImmediate:s})},9429:function(e,t,n){"use strict";var r=n(4576),a=n(6193);e.exports=function(e){if(a){try{return r.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}}},9472:function(e,t,n){"use strict";var r=n(4576),a=n(8745),o=n(4901),i=n(4215),s=n(2839),l=n(7680),c=n(2812),u=r.Function,d=/MSIE .\./.test(s)||"BUN"===i&&function(){var e=r.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var n=t?2:1;return d?function(r,i){var s=c(arguments.length,1)>n,d=o(r)?r:u(r),h=s?l(arguments,n):[],f=s?function(){a(d,this,h)}:d;return t?e(f,i):e(f)}:e}},9486:function(e,t,n){"use strict";var r=n(6518),a=n(4576),o=n(9504),i=n(3972),s=n(4154),l=n(5169),c=n(2804),u=n(944),d=c.i2c,h=c.i2cUrl,f=o("".charAt),p=a.Uint8Array,m=!p||!p.prototype.toBase64||!function(){try{var e=new p;e.toBase64(null)}catch(t){return!0}}();p&&r({target:"Uint8Array",proto:!0,forced:m},{toBase64:function(){var e=s(this),t=arguments.length?i(arguments[0]):void 0,n="base64"===u(t)?d:h,r=!!t&&!!t.omitPadding;l(this.buffer);for(var a,o="",c=0,p=e.length,m=function(e){return f(n,a>>6*e&63)};c+2<p;c+=3)a=(e[c]<<16)+(e[c+1]<<8)+e[c+2],o+=m(3)+m(2)+m(1)+m(0);return c+2===p?(a=(e[c]<<16)+(e[c+1]<<8),o+=m(3)+m(2)+m(1)+(r?"":"=")):c+1===p&&(a=e[c]<<16,o+=m(3)+m(2)+(r?"":"==")),o}})},9544:function(e,t,n){"use strict";var r=n(2839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},9577:function(e,t,n){"use strict";var r=n(9928),a=n(4644),o=n(1108),i=n(1291),s=n(5854),l=a.aTypedArray,c=a.getTypedArrayConstructor,u=a.exportTypedArrayMethod,d=function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}(),h=d&&function(){try{new Int8Array(1)["with"](-.5,1)}catch(e){return!0}}();u("with",{with:function(e,t){var n=l(this),a=i(e),u=o(n)?s(t):+t;return r(n,c(n),a,u)}}["with"],!d||h)},9631:function(e,t,n){"use strict";n(9486)},9797:function(e,t,n){"use strict";n(4226)},9848:function(e,t,n){"use strict";n(6368),n(9309)},9928:function(e,t,n){"use strict";var r=n(6198),a=n(1291),o=RangeError;e.exports=function(e,t,n,i){var s=r(e),l=a(n),c=l<0?s+l:l;if(c>=s||c<0)throw new o("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===c?i:e[d];return u}}}]);
//# sourceMappingURL=484.1c1e3029.js.map